import{j as e}from"./chunk-OIYGIGL5-BFuAKb0n.js";let t=`## Usage

\`\`\`bash
usage: hbase org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool <OPTIONS> [-D<property=value>]*
 -d,--delete-if-exist         If it's set, the table will be deleted if already exist.
 -h,--help                    Show help message for the tool
 -mc,--mapper-count <arg>     The number of mapper containers to be launched.
 -o,--table-options <arg>     Table options to be set while creating the table.
 -r,--rows-per-mapper <arg>   The number of rows to be generated PER mapper.
 -sc,--split-count <arg>      The number of regions/pre-splits to be created for the table.
 -t,--table <arg>             The table name for which data need to be generated.
\`\`\`

Examples:

\`\`\`bash
hbase org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool -t TEST_TABLE -mc 10 -r 100 -sc 10

hbase org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool -t TEST_TABLE -mc 10 -r 100 -sc 10 -d -o "BACKUP=false,NORMALIZATION_ENABLED=false"

hbase org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool -t TEST_TABLE -mc 10 -r 100 -sc 10 -Dmapreduce.map.memory.mb=8192
\`\`\`

## Overview

### Table Schema

Tool generates a HBase table with single column family, i.e. **cf** and 9 columns i.e.

\`\`\`
ORG_ID, TOOL_EVENT_ID, EVENT_ID, VEHICLE_ID, SPEED, LATITUDE, LONGITUDE, LOCATION, TIMESTAMP
\`\`\`

with row key as

\`\`\`
<TOOL_EVENT_ID>:<ORGANIZATION_ID>
\`\`\`

### Table Creation

Tool creates a pre-splited HBase Table having "**split-count**" splits (i.e. **split-count** + 1 regions) with sequential 6 digit region boundary prefix.
Example: If a table is generated with "**split-count**" as 10, it will have (10+1) regions with following start-end keys.

\`\`\`
(-000001, 000001-000002, 000002-000003, ...., 000009-000010, 0000010-)
\`\`\`

### Data Generation

Tool creates and run a MR job to generate the HFiles, which are bulk loaded to table regions via \`org.apache.hadoop.hbase.tool.BulkLoadHFilesTool\`.
The number of mappers is defined in input as "**mapper-count**". Each mapper generates "**records-per-mapper**" rows.

\`org.apache.hadoop.hbase.util.bulkdatageneratorBulkDataGeneratorRecordReader\` ensures that each record generated by mapper is associated with index (added to the key) ranging from 1 to "**records-per-mapper**".

The TOOL\\_EVENT\\_ID column for each row has a 6 digit prefix as

\`\`\`
(index) mod ("split-count" + 1)
\`\`\`

Example, if 10 records are to be generated by each mapper and "**split-count**" is 4, the TOOL\\_EVENT\\_IDs for each record will have a prefix as

| Record Index | TOOL\\_EVENT\\_ID's first six characters |
| ------------ | -------------------------------------- |
| 1            | 000001                                 |
| 2            | 000002                                 |
| 3            | 000003                                 |
| 4            | 000004                                 |
| 5            | 000000                                 |
| 6            | 000001                                 |
| 7            | 000002                                 |
| 8            | 000003                                 |
| 9            | 000004                                 |
| 10           | 000005                                 |

Since TOOL\\_EVENT\\_ID is first attribute of row key and table region boundaries are also having start-end keys as 6 digit sequential prefixes, this ensures that each mapper generates (nearly) same number of rows for each region, making the data uniformly distributed.
TOOL\\_EVENT\\_ID suffix and other columns of the row are populated with random data.

Number of rows generated is

\`\`\`
rows-per-mapper * mapper-count
\`\`\`

Size of each rows is (approximately)

\`\`\`
850 B
\`\`\`

### Experiments

These results are from a 11 node cluster having HBase and Hadoop service running within self-managed test environment

| Data Size | Time to Generate Data (mins) |
| --------- | ---------------------------- |
| 100 GB    | 6 minutes                    |
| 340 GB    | 13 minutes                   |
| 3.5 TB    | 3 hours 10 minutes           |
`,r={title:"Bulk Data Generator Tool",description:"This is a random data generator tool for HBase tables leveraging Hbase bulk load. It can create pre-splited HBase table and the generated data is uniformly distributed to all the regions of the table."},h=[],l={contents:[{heading:"bulk-data-generator-tool-usage",content:"Examples:"},{heading:"table-schema",content:"Tool generates a HBase table with single column family, i.e. cf and 9 columns i.e."},{heading:"table-schema",content:"with row key as"},{heading:"table-creation",content:`Tool creates a pre-splited HBase Table having "split-count" splits (i.e. split-count + 1 regions) with sequential 6 digit region boundary prefix.
Example: If a table is generated with "split-count" as 10, it will have (10+1) regions with following start-end keys.`},{heading:"data-generation",content:`Tool creates and run a MR job to generate the HFiles, which are bulk loaded to table regions via org.apache.hadoop.hbase.tool.BulkLoadHFilesTool.
The number of mappers is defined in input as "mapper-count". Each mapper generates "records-per-mapper" rows.`},{heading:"data-generation",content:'org.apache.hadoop.hbase.util.bulkdatageneratorBulkDataGeneratorRecordReader ensures that each record generated by mapper is associated with index (added to the key) ranging from 1 to "records-per-mapper".'},{heading:"data-generation",content:"The TOOL_EVENT_ID column for each row has a 6 digit prefix as"},{heading:"data-generation",content:'Example, if 10 records are to be generated by each mapper and "split-count" is 4, the TOOL_EVENT_IDs for each record will have a prefix as'},{heading:"data-generation",content:"Record Index"},{heading:"data-generation",content:"TOOL_EVENT_ID's first six characters"},{heading:"data-generation",content:"1"},{heading:"data-generation",content:"000001"},{heading:"data-generation",content:"2"},{heading:"data-generation",content:"000002"},{heading:"data-generation",content:"3"},{heading:"data-generation",content:"000003"},{heading:"data-generation",content:"4"},{heading:"data-generation",content:"000004"},{heading:"data-generation",content:"5"},{heading:"data-generation",content:"000000"},{heading:"data-generation",content:"6"},{heading:"data-generation",content:"000001"},{heading:"data-generation",content:"7"},{heading:"data-generation",content:"000002"},{heading:"data-generation",content:"8"},{heading:"data-generation",content:"000003"},{heading:"data-generation",content:"9"},{heading:"data-generation",content:"000004"},{heading:"data-generation",content:"10"},{heading:"data-generation",content:"000005"},{heading:"data-generation",content:`Since TOOL_EVENT_ID is first attribute of row key and table region boundaries are also having start-end keys as 6 digit sequential prefixes, this ensures that each mapper generates (nearly) same number of rows for each region, making the data uniformly distributed.
TOOL_EVENT_ID suffix and other columns of the row are populated with random data.`},{heading:"data-generation",content:"Number of rows generated is"},{heading:"data-generation",content:"Size of each rows is (approximately)"},{heading:"experiments",content:"These results are from a 11 node cluster having HBase and Hadoop service running within self-managed test environment"},{heading:"experiments",content:"Data Size"},{heading:"experiments",content:"Time to Generate Data (mins)"},{heading:"experiments",content:"100 GB"},{heading:"experiments",content:"6 minutes"},{heading:"experiments",content:"340 GB"},{heading:"experiments",content:"13 minutes"},{heading:"experiments",content:"3.5 TB"},{heading:"experiments",content:"3 hours 10 minutes"}],headings:[{id:"bulk-data-generator-tool-usage",content:"Usage"},{id:"bulk-data-generator-tool-overview",content:"Overview"},{id:"table-schema",content:"Table Schema"},{id:"table-creation",content:"Table Creation"},{id:"data-generation",content:"Data Generation"},{id:"experiments",content:"Experiments"}]};const d=[{depth:2,url:"#bulk-data-generator-tool-usage",title:e.jsx(e.Fragment,{children:"Usage"})},{depth:2,url:"#bulk-data-generator-tool-overview",title:e.jsx(e.Fragment,{children:"Overview"})},{depth:3,url:"#table-schema",title:e.jsx(e.Fragment,{children:"Table Schema"})},{depth:3,url:"#table-creation",title:e.jsx(e.Fragment,{children:"Table Creation"})},{depth:3,url:"#data-generation",title:e.jsx(e.Fragment,{children:"Data Generation"})},{depth:3,url:"#experiments",title:e.jsx(e.Fragment,{children:"Experiments"})}];function n(a){const i={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",span:"span",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...a.components};return e.jsxs(e.Fragment,{children:[e.jsx(i.h2,{id:"bulk-data-generator-tool-usage",children:"Usage"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"usage:"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" hbase"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:" <"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"OPTION"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"S"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:">"}),e.jsx(i.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:" [-D<property=value>]"}),e.jsx(i.span,{style:{"--shiki-light":"#D73A49","--shiki-dark":"#F97583"},children:"*"})]}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:" -d,--delete-if-exist"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:"         If"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" it's set, the table will be deleted if already exist."})]}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -h,--help                    Show help message for the tool"})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -mc,--mapper-count <arg>     The number of mapper containers to be launched."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -o,--table-options <arg>     Table options to be set while creating the table."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -r,--rows-per-mapper <arg>   The number of rows to be generated PER mapper."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -sc,--split-count <arg>      The number of regions/pre-splits to be created for the table."})}),`
`,e.jsx(i.span,{className:"line",children:e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" -t,--table <arg>             The table name for which data need to be generated."})})]})})}),`
`,e.jsx(i.p,{children:"Examples:"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="m 4,4 a 1,1 0 0 0 -0.7070312,0.2929687 1,1 0 0 0 0,1.4140625 L 8.5859375,11 3.2929688,16.292969 a 1,1 0 0 0 0,1.414062 1,1 0 0 0 1.4140624,0 l 5.9999998,-6 a 1.0001,1.0001 0 0 0 0,-1.414062 L 4.7070312,4.2929687 A 1,1 0 0 0 4,4 Z m 8,14 a 1,1 0 0 0 -1,1 1,1 0 0 0 1,1 h 8 a 1,1 0 0 0 1,-1 1,1 0 0 0 -1,-1 z" fill="currentColor" /></svg>',children:e.jsxs(i.code,{children:[e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"hbase"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -t"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" TEST_TABLE"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -mc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -r"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 100"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -sc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"hbase"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -t"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" TEST_TABLE"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -mc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -r"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 100"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -sc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -d"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -o"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:' "BACKUP=false,NORMALIZATION_ENABLED=false"'})]}),`
`,e.jsx(i.span,{className:"line"}),`
`,e.jsxs(i.span,{className:"line",children:[e.jsx(i.span,{style:{"--shiki-light":"#6F42C1","--shiki-dark":"#B392F0"},children:"hbase"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" org.apache.hadoop.hbase.util.bulkdatagenerator.BulkDataGeneratorTool"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -t"}),e.jsx(i.span,{style:{"--shiki-light":"#032F62","--shiki-dark":"#9ECBFF"},children:" TEST_TABLE"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -mc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -r"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 100"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -sc"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" 10"}),e.jsx(i.span,{style:{"--shiki-light":"#005CC5","--shiki-dark":"#79B8FF"},children:" -Dmapreduce.map.memory.mb=8192"})]})]})})}),`
`,e.jsx(i.h2,{id:"bulk-data-generator-tool-overview",children:"Overview"}),`
`,e.jsx(i.h3,{id:"table-schema",children:"Table Schema"}),`
`,e.jsxs(i.p,{children:["Tool generates a HBase table with single column family, i.e. ",e.jsx(i.strong,{children:"cf"})," and 9 columns i.e."]}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"ORG_ID, TOOL_EVENT_ID, EVENT_ID, VEHICLE_ID, SPEED, LATITUDE, LONGITUDE, LOCATION, TIMESTAMP"})})})})}),`
`,e.jsx(i.p,{children:"with row key as"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"<TOOL_EVENT_ID>:<ORGANIZATION_ID>"})})})})}),`
`,e.jsx(i.h3,{id:"table-creation",children:"Table Creation"}),`
`,e.jsxs(i.p,{children:['Tool creates a pre-splited HBase Table having "',e.jsx(i.strong,{children:"split-count"}),'" splits (i.e. ',e.jsx(i.strong,{children:"split-count"}),` + 1 regions) with sequential 6 digit region boundary prefix.
Example: If a table is generated with "`,e.jsx(i.strong,{children:"split-count"}),'" as 10, it will have (10+1) regions with following start-end keys.']}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"(-000001, 000001-000002, 000002-000003, ...., 000009-000010, 0000010-)"})})})})}),`
`,e.jsx(i.h3,{id:"data-generation",children:"Data Generation"}),`
`,e.jsxs(i.p,{children:["Tool creates and run a MR job to generate the HFiles, which are bulk loaded to table regions via ",e.jsx(i.code,{children:"org.apache.hadoop.hbase.tool.BulkLoadHFilesTool"}),`.
The number of mappers is defined in input as "`,e.jsx(i.strong,{children:"mapper-count"}),'". Each mapper generates "',e.jsx(i.strong,{children:"records-per-mapper"}),'" rows.']}),`
`,e.jsxs(i.p,{children:[e.jsx(i.code,{children:"org.apache.hadoop.hbase.util.bulkdatageneratorBulkDataGeneratorRecordReader"}),' ensures that each record generated by mapper is associated with index (added to the key) ranging from 1 to "',e.jsx(i.strong,{children:"records-per-mapper"}),'".']}),`
`,e.jsx(i.p,{children:"The TOOL_EVENT_ID column for each row has a 6 digit prefix as"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:'(index) mod ("split-count" + 1)'})})})})}),`
`,e.jsxs(i.p,{children:['Example, if 10 records are to be generated by each mapper and "',e.jsx(i.strong,{children:"split-count"}),'" is 4, the TOOL_EVENT_IDs for each record will have a prefix as']}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Record Index"}),e.jsx(i.th,{children:"TOOL_EVENT_ID's first six characters"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"1"}),e.jsx(i.td,{children:"000001"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"2"}),e.jsx(i.td,{children:"000002"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"3"}),e.jsx(i.td,{children:"000003"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"4"}),e.jsx(i.td,{children:"000004"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"5"}),e.jsx(i.td,{children:"000000"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"6"}),e.jsx(i.td,{children:"000001"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"7"}),e.jsx(i.td,{children:"000002"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"8"}),e.jsx(i.td,{children:"000003"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"9"}),e.jsx(i.td,{children:"000004"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"10"}),e.jsx(i.td,{children:"000005"})]})]})]}),`
`,e.jsx(i.p,{children:`Since TOOL_EVENT_ID is first attribute of row key and table region boundaries are also having start-end keys as 6 digit sequential prefixes, this ensures that each mapper generates (nearly) same number of rows for each region, making the data uniformly distributed.
TOOL_EVENT_ID suffix and other columns of the row are populated with random data.`}),`
`,e.jsx(i.p,{children:"Number of rows generated is"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"rows-per-mapper * mapper-count"})})})})}),`
`,e.jsx(i.p,{children:"Size of each rows is (approximately)"}),`
`,e.jsx(e.Fragment,{children:e.jsx(i.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsx(i.code,{children:e.jsx(i.span,{className:"line",children:e.jsx(i.span,{children:"850 B"})})})})}),`
`,e.jsx(i.h3,{id:"experiments",children:"Experiments"}),`
`,e.jsx(i.p,{children:"These results are from a 11 node cluster having HBase and Hadoop service running within self-managed test environment"}),`
`,e.jsxs(i.table,{children:[e.jsx(i.thead,{children:e.jsxs(i.tr,{children:[e.jsx(i.th,{children:"Data Size"}),e.jsx(i.th,{children:"Time to Generate Data (mins)"})]})}),e.jsxs(i.tbody,{children:[e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"100 GB"}),e.jsx(i.td,{children:"6 minutes"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"340 GB"}),e.jsx(i.td,{children:"13 minutes"})]}),e.jsxs(i.tr,{children:[e.jsx(i.td,{children:"3.5 TB"}),e.jsx(i.td,{children:"3 hours 10 minutes"})]})]})]})]})}function o(a={}){const{wrapper:i}=a.components||{};return i?e.jsx(i,{...a,children:e.jsx(n,{...a})}):n(a)}export{t as _markdown,o as default,h as extractedReferences,r as frontmatter,l as structuredData,d as toc};
