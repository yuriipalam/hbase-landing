import{j as e}from"./chunk-OIYGIGL5-BFuAKb0n.js";let r=`HBase has two run modes: [standalone](/docs/configuration/hbase-run-models#standalone-hbase) and [distributed](/docs/configuration/hbase-run-models#distributed). Out of the box, HBase runs in standalone mode. Whatever your mode, you will need to configure HBase by editing files in the HBase *conf* directory. At a minimum, you must edit \`conf/hbase-env.sh\` to tell HBase which java to use. In this file you set HBase environment variables such as the heapsize and other options for the \`JVM\`, the preferred location for log files, etc. Set \`JAVA_HOME\` to point at the root of your java install.

## Standalone HBase

This is the default mode. Standalone mode is what is described in the [quickstart](/docs/getting-started#quick-start---standalone-hbase) section. In standalone mode, HBase does not use HDFS — it uses the local filesystem instead — and it runs all HBase daemons and a local ZooKeeper all up in the same JVM. ZooKeeper binds to a well-known port so clients may talk to HBase.

### Standalone HBase over HDFS

A sometimes useful variation on standalone hbase has all daemons running inside the one JVM but rather than persist to the local filesystem, instead they persist to an HDFS instance.

You might consider this profile when you are intent on a simple deploy profile, the loading is light, but the data must persist across node comings and goings. Writing to HDFS where data is replicated ensures the latter.

To configure this standalone variant, edit your *hbase-site.xml* setting *hbase.rootdir* to point at a directory in your HDFS instance but then set *hbase.cluster.distributed* to *false*. For example:

\`\`\`xml
<configuration>
  <property>
    <name>hbase.rootdir</name>
    <value>hdfs://namenode.example.org:9000/hbase</value>
  </property>
  <property>
    <name>hbase.cluster.distributed</name>
    <value>false</value>
  </property>
</configuration>
\`\`\`

## Distributed

Distributed mode can be subdivided into distributed but all daemons run on a single node — a.k.a. *pseudo-distributed* — and *fully-distributed* where the daemons are spread across all nodes in the cluster. The *pseudo-distributed* vs. *fully-distributed* nomenclature comes from Hadoop.

Pseudo-distributed mode can run against the local filesystem or it can run against an instance of the *Hadoop Distributed File System* (HDFS). Fully-distributed mode can ONLY run on HDFS. See the Hadoop [documentation](https://hadoop.apache.org/docs/current/) for how to set up HDFS. A good walk-through for setting up HDFS on Hadoop 2 can be found at [https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/](https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/).

### Pseudo-distributed

<Callout type="info">
  A quickstart has been added to the [quickstart](/docs/getting-started#quick-start---standalone-hbase) chapter. See
  [quickstart-pseudo](/docs/getting-started#pseudo-distributed-for-local-testing). Some of the information that was originally in this section has been moved there.
</Callout>

A pseudo-distributed mode is simply a fully-distributed mode run on a single host. Use this HBase configuration for testing and prototyping purposes only. Do not use this configuration for production or for performance evaluation.

## Fully-distributed

By default, HBase runs in stand-alone mode. Both stand-alone mode and pseudo-distributed mode are provided for the purposes of small-scale testing. For a production environment, distributed mode is advised. In distributed mode, multiple instances of HBase daemons run on multiple servers in the cluster.

Just as in pseudo-distributed mode, a fully distributed configuration requires that you set the \`hbase.cluster.distributed\` property to \`true\`. Typically, the \`hbase.rootdir\` is configured to point to a highly-available HDFS filesystem.

In addition, the cluster is configured so that multiple cluster nodes enlist as RegionServers, ZooKeeper QuorumPeers, and backup HMaster servers. These configuration basics are all demonstrated in [quickstart-fully-distributed](/docs/getting-started#fully-distributed-for-production).

### Distributed RegionServers

Typically, your cluster will contain multiple RegionServers all running on different servers, as well as primary and backup Master and ZooKeeper daemons. The *conf/regionservers* file on the master server contains a list of hosts whose RegionServers are associated with this cluster. Each host is on a separate line. All hosts listed in this file will have their RegionServer processes started and stopped when the master server starts or stops.

### ZooKeeper and HBase

See the [ZooKeeper](/docs/zookeeper) section for ZooKeeper setup instructions for HBase.

### Example: Distributed HBase Cluster

This is a bare-bones *conf/hbase-site.xml* for a distributed HBase cluster. A cluster that is used for real-world work would contain more custom configuration parameters. Most HBase configuration directives have default values, which are used unless the value is overridden in the *hbase-site.xml*. See "[Configuration Files](/docs/configuration/default)" for more information.

\`\`\`xml
<configuration>
  <property>
    <name>hbase.rootdir</name>
    <value>hdfs://namenode.example.org:9000/hbase</value>
  </property>
  <property>
    <name>hbase.cluster.distributed</name>
    <value>true</value>
  </property>
  <property>
    <name>hbase.zookeeper.quorum</name>
    <value>node-a.example.com,node-b.example.com,node-c.example.com</value>
  </property>
</configuration>
\`\`\`

This is an example *conf/regionservers* file, which contains a list of nodes that should run a RegionServer in the cluster. These nodes need HBase installed and they need to use the same contents of the *conf/* directory as the Master server.

\`\`\`text
node-a.example.com
node-b.example.com
node-c.example.com
\`\`\`

This is an example *conf/backup-masters* file, which contains a list of each node that should run a backup Master instance. The backup Master instances will sit idle unless the main Master becomes unavailable.

\`\`\`text
node-b.example.com
node-c.example.com
\`\`\`

### Distributed HBase Quickstart

See [quickstart-fully-distributed](/docs/getting-started#fully-distributed-for-production) for a walk-through of a simple three-node cluster configuration with multiple ZooKeeper, backup HMaster, and RegionServer instances.

### Procedure: HDFS Client Configuration

1. Of note, if you have made HDFS client configuration changes on your Hadoop cluster, such as configuration directives for HDFS clients, as opposed to server-side configurations, you must use one of the following methods to enable HBase to see and use these configuration changes:
   * Add a pointer to your \`HADOOP_CONF_DIR\` to the \`HBASE_CLASSPATH\` environment variable in *hbase-env.sh*.
   * Add a copy of *hdfs-site.xml* (or *hadoop-site.xml*) or, better, symlinks, under \`$HBASE_HOME/conf\`, or
   * if only a small set of HDFS client configurations, add them to *hbase-site.xml*.

An example of such an HDFS client configuration is \`dfs.replication\`. If for example, you want to run with a replication factor of 5, HBase will create files with the default of 3 unless you do the above to make the configuration available to HBase.

## Choosing between the Classic Package and the BYO Hadoop Package

Starting with HBase 3.0, HBase includes two binary packages. The classic package includes both the HBase and Hadoop components, while the Hadoop-less "Bring Your Own Hadoop" package omits the Hadoop components, and uses the files from an existing Hadoop installation. The classic binary package filename is named \`hbase-VERSION-bin.tar.gz\` (e.g. *hbase-3.0.0-bin.tar.gz*), while the Hadoop-less package is \`hbase-byo-hadoop-VERSION-bin.tar.gz\` (e.g. *hbase-byo-hadoop-3.0.0-bin.tar.gz*).

If the cluster nodes already have Hadoop installed, you can use the Hadoop-less package. In this case you need to make sure that the \`HADOOP_HOME\` environment variable is set and points to the Hadoop installation. The easiest way to ensure this is to set it in *hbase-env.sh*. You still need to make sure that the Hadoop configuration files are present on the HBase classpath, as described above.

## Advantages of the BYO Hadoop package:

* There is no need to replace the Hadoop libraries.
* It is easier to upgrade Hadoop and HBase independently (as long as compatible versions are used).
* Both the package and installed size are about 100 MB smaller.
`,d={title:"HBase run modes: Standalone and Distributed",description:"Understanding HBase deployment modes: standalone mode for development and distributed mode for production clusters."},l=[{href:"/docs/configuration/hbase-run-models#standalone-hbase"},{href:"/docs/configuration/hbase-run-models#distributed"},{href:"/docs/getting-started#quick-start---standalone-hbase"},{href:"https://hadoop.apache.org/docs/current/"},{href:"https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/"},{href:"/docs/getting-started#quick-start---standalone-hbase"},{href:"/docs/getting-started#pseudo-distributed-for-local-testing"},{href:"/docs/getting-started#fully-distributed-for-production"},{href:"/docs/zookeeper"},{href:"/docs/configuration/default"},{href:"/docs/getting-started#fully-distributed-for-production"}],h={contents:[{heading:void 0,content:"HBase has two run modes: standalone and distributed. Out of the box, HBase runs in standalone mode. Whatever your mode, you will need to configure HBase by editing files in the HBase conf directory. At a minimum, you must edit conf/hbase-env.sh to tell HBase which java to use. In this file you set HBase environment variables such as the heapsize and other options for the JVM, the preferred location for log files, etc. Set JAVA_HOME to point at the root of your java install."},{heading:"standalone-hbase",content:"This is the default mode. Standalone mode is what is described in the quickstart section. In standalone mode, HBase does not use HDFS — it uses the local filesystem instead — and it runs all HBase daemons and a local ZooKeeper all up in the same JVM. ZooKeeper binds to a well-known port so clients may talk to HBase."},{heading:"standalone-hbase-over-hdfs",content:"A sometimes useful variation on standalone hbase has all daemons running inside the one JVM but rather than persist to the local filesystem, instead they persist to an HDFS instance."},{heading:"standalone-hbase-over-hdfs",content:"You might consider this profile when you are intent on a simple deploy profile, the loading is light, but the data must persist across node comings and goings. Writing to HDFS where data is replicated ensures the latter."},{heading:"standalone-hbase-over-hdfs",content:"To configure this standalone variant, edit your hbase-site.xml setting hbase.rootdir to point at a directory in your HDFS instance but then set hbase.cluster.distributed to false. For example:"},{heading:"distributed",content:"Distributed mode can be subdivided into distributed but all daemons run on a single node — a.k.a. pseudo-distributed — and fully-distributed where the daemons are spread across all nodes in the cluster. The pseudo-distributed vs. fully-distributed nomenclature comes from Hadoop."},{heading:"distributed",content:"Pseudo-distributed mode can run against the local filesystem or it can run against an instance of the Hadoop Distributed File System (HDFS). Fully-distributed mode can ONLY run on HDFS. See the Hadoop documentation for how to set up HDFS. A good walk-through for setting up HDFS on Hadoop 2 can be found at https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/."},{heading:"pseudo-distributed",content:"type: info"},{heading:"pseudo-distributed",content:`A quickstart has been added to the quickstart chapter. See
quickstart-pseudo. Some of the information that was originally in this section has been moved there.`},{heading:"pseudo-distributed",content:"A pseudo-distributed mode is simply a fully-distributed mode run on a single host. Use this HBase configuration for testing and prototyping purposes only. Do not use this configuration for production or for performance evaluation."},{heading:"fully-distributed",content:"By default, HBase runs in stand-alone mode. Both stand-alone mode and pseudo-distributed mode are provided for the purposes of small-scale testing. For a production environment, distributed mode is advised. In distributed mode, multiple instances of HBase daemons run on multiple servers in the cluster."},{heading:"fully-distributed",content:"Just as in pseudo-distributed mode, a fully distributed configuration requires that you set the hbase.cluster.distributed property to true. Typically, the hbase.rootdir is configured to point to a highly-available HDFS filesystem."},{heading:"fully-distributed",content:"In addition, the cluster is configured so that multiple cluster nodes enlist as RegionServers, ZooKeeper QuorumPeers, and backup HMaster servers. These configuration basics are all demonstrated in quickstart-fully-distributed."},{heading:"distributed-regionservers",content:"Typically, your cluster will contain multiple RegionServers all running on different servers, as well as primary and backup Master and ZooKeeper daemons. The conf/regionservers file on the master server contains a list of hosts whose RegionServers are associated with this cluster. Each host is on a separate line. All hosts listed in this file will have their RegionServer processes started and stopped when the master server starts or stops."},{heading:"zookeeper-and-hbase",content:"See the ZooKeeper section for ZooKeeper setup instructions for HBase."},{heading:"example-distributed-hbase-cluster",content:'This is a bare-bones conf/hbase-site.xml for a distributed HBase cluster. A cluster that is used for real-world work would contain more custom configuration parameters. Most HBase configuration directives have default values, which are used unless the value is overridden in the hbase-site.xml. See "Configuration Files" for more information.'},{heading:"example-distributed-hbase-cluster",content:"This is an example conf/regionservers file, which contains a list of nodes that should run a RegionServer in the cluster. These nodes need HBase installed and they need to use the same contents of the conf/ directory as the Master server."},{heading:"example-distributed-hbase-cluster",content:"This is an example conf/backup-masters file, which contains a list of each node that should run a backup Master instance. The backup Master instances will sit idle unless the main Master becomes unavailable."},{heading:"distributed-hbase-quickstart",content:"See quickstart-fully-distributed for a walk-through of a simple three-node cluster configuration with multiple ZooKeeper, backup HMaster, and RegionServer instances."},{heading:"procedure-hdfs-client-configuration",content:"Of note, if you have made HDFS client configuration changes on your Hadoop cluster, such as configuration directives for HDFS clients, as opposed to server-side configurations, you must use one of the following methods to enable HBase to see and use these configuration changes:"},{heading:"procedure-hdfs-client-configuration",content:"Add a pointer to your HADOOP_CONF_DIR to the HBASE_CLASSPATH environment variable in hbase-env.sh."},{heading:"procedure-hdfs-client-configuration",content:"Add a copy of hdfs-site.xml (or hadoop-site.xml) or, better, symlinks, under $HBASE_HOME/conf, or"},{heading:"procedure-hdfs-client-configuration",content:"if only a small set of HDFS client configurations, add them to hbase-site.xml."},{heading:"procedure-hdfs-client-configuration",content:"An example of such an HDFS client configuration is dfs.replication. If for example, you want to run with a replication factor of 5, HBase will create files with the default of 3 unless you do the above to make the configuration available to HBase."},{heading:"choosing-between-the-classic-package-and-the-byo-hadoop-package",content:'Starting with HBase 3.0, HBase includes two binary packages. The classic package includes both the HBase and Hadoop components, while the Hadoop-less "Bring Your Own Hadoop" package omits the Hadoop components, and uses the files from an existing Hadoop installation. The classic binary package filename is named hbase-VERSION-bin.tar.gz (e.g. hbase-3.0.0-bin.tar.gz), while the Hadoop-less package is hbase-byo-hadoop-VERSION-bin.tar.gz (e.g. hbase-byo-hadoop-3.0.0-bin.tar.gz).'},{heading:"choosing-between-the-classic-package-and-the-byo-hadoop-package",content:"If the cluster nodes already have Hadoop installed, you can use the Hadoop-less package. In this case you need to make sure that the HADOOP_HOME environment variable is set and points to the Hadoop installation. The easiest way to ensure this is to set it in hbase-env.sh. You still need to make sure that the Hadoop configuration files are present on the HBase classpath, as described above."},{heading:"advantages-of-the-byo-hadoop-package",content:"There is no need to replace the Hadoop libraries."},{heading:"advantages-of-the-byo-hadoop-package",content:"It is easier to upgrade Hadoop and HBase independently (as long as compatible versions are used)."},{heading:"advantages-of-the-byo-hadoop-package",content:"Both the package and installed size are about 100 MB smaller."}],headings:[{id:"standalone-hbase",content:"Standalone HBase"},{id:"standalone-hbase-over-hdfs",content:"Standalone HBase over HDFS"},{id:"distributed",content:"Distributed"},{id:"pseudo-distributed",content:"Pseudo-distributed"},{id:"fully-distributed",content:"Fully-distributed"},{id:"distributed-regionservers",content:"Distributed RegionServers"},{id:"zookeeper-and-hbase",content:"ZooKeeper and HBase"},{id:"example-distributed-hbase-cluster",content:"Example: Distributed HBase Cluster"},{id:"distributed-hbase-quickstart",content:"Distributed HBase Quickstart"},{id:"procedure-hdfs-client-configuration",content:"Procedure: HDFS Client Configuration"},{id:"choosing-between-the-classic-package-and-the-byo-hadoop-package",content:"Choosing between the Classic Package and the BYO Hadoop Package"},{id:"advantages-of-the-byo-hadoop-package",content:"Advantages of the BYO Hadoop package:"}]};const c=[{depth:2,url:"#standalone-hbase",title:e.jsx(e.Fragment,{children:"Standalone HBase"})},{depth:3,url:"#standalone-hbase-over-hdfs",title:e.jsx(e.Fragment,{children:"Standalone HBase over HDFS"})},{depth:2,url:"#distributed",title:e.jsx(e.Fragment,{children:"Distributed"})},{depth:3,url:"#pseudo-distributed",title:e.jsx(e.Fragment,{children:"Pseudo-distributed"})},{depth:2,url:"#fully-distributed",title:e.jsx(e.Fragment,{children:"Fully-distributed"})},{depth:3,url:"#distributed-regionservers",title:e.jsx(e.Fragment,{children:"Distributed RegionServers"})},{depth:3,url:"#zookeeper-and-hbase",title:e.jsx(e.Fragment,{children:"ZooKeeper and HBase"})},{depth:3,url:"#example-distributed-hbase-cluster",title:e.jsx(e.Fragment,{children:"Example: Distributed HBase Cluster"})},{depth:3,url:"#distributed-hbase-quickstart",title:e.jsx(e.Fragment,{children:"Distributed HBase Quickstart"})},{depth:3,url:"#procedure-hdfs-client-configuration",title:e.jsx(e.Fragment,{children:"Procedure: HDFS Client Configuration"})},{depth:2,url:"#choosing-between-the-classic-package-and-the-byo-hadoop-package",title:e.jsx(e.Fragment,{children:"Choosing between the Classic Package and the BYO Hadoop Package"})},{depth:2,url:"#advantages-of-the-byo-hadoop-package",title:e.jsx(e.Fragment,{children:"Advantages of the BYO Hadoop package:"})}];function n(i){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",span:"span",ul:"ul",...i.components},{Callout:t}=s;return t||a("Callout"),e.jsxs(e.Fragment,{children:[e.jsxs(s.p,{children:["HBase has two run modes: ",e.jsx(s.a,{href:"/docs/configuration/hbase-run-models#standalone-hbase",children:"standalone"})," and ",e.jsx(s.a,{href:"/docs/configuration/hbase-run-models#distributed",children:"distributed"}),". Out of the box, HBase runs in standalone mode. Whatever your mode, you will need to configure HBase by editing files in the HBase ",e.jsx(s.em,{children:"conf"})," directory. At a minimum, you must edit ",e.jsx(s.code,{children:"conf/hbase-env.sh"})," to tell HBase which java to use. In this file you set HBase environment variables such as the heapsize and other options for the ",e.jsx(s.code,{children:"JVM"}),", the preferred location for log files, etc. Set ",e.jsx(s.code,{children:"JAVA_HOME"})," to point at the root of your java install."]}),`
`,e.jsx(s.h2,{id:"standalone-hbase",children:"Standalone HBase"}),`
`,e.jsxs(s.p,{children:["This is the default mode. Standalone mode is what is described in the ",e.jsx(s.a,{href:"/docs/getting-started#quick-start---standalone-hbase",children:"quickstart"})," section. In standalone mode, HBase does not use HDFS — it uses the local filesystem instead — and it runs all HBase daemons and a local ZooKeeper all up in the same JVM. ZooKeeper binds to a well-known port so clients may talk to HBase."]}),`
`,e.jsx(s.h3,{id:"standalone-hbase-over-hdfs",children:"Standalone HBase over HDFS"}),`
`,e.jsx(s.p,{children:"A sometimes useful variation on standalone hbase has all daemons running inside the one JVM but rather than persist to the local filesystem, instead they persist to an HDFS instance."}),`
`,e.jsx(s.p,{children:"You might consider this profile when you are intent on a simple deploy profile, the loading is light, but the data must persist across node comings and goings. Writing to HDFS where data is replicated ensures the latter."}),`
`,e.jsxs(s.p,{children:["To configure this standalone variant, edit your ",e.jsx(s.em,{children:"hbase-site.xml"})," setting ",e.jsx(s.em,{children:"hbase.rootdir"})," to point at a directory in your HDFS instance but then set ",e.jsx(s.em,{children:"hbase.cluster.distributed"})," to ",e.jsx(s.em,{children:"false"}),". For example:"]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"configuration"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hbase.rootdir</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hdfs://namenode.example.org:9000/hbase</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hbase.cluster.distributed</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">false</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"configuration"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})})}),`
`,e.jsx(s.h2,{id:"distributed",children:"Distributed"}),`
`,e.jsxs(s.p,{children:["Distributed mode can be subdivided into distributed but all daemons run on a single node — a.k.a. ",e.jsx(s.em,{children:"pseudo-distributed"})," — and ",e.jsx(s.em,{children:"fully-distributed"})," where the daemons are spread across all nodes in the cluster. The ",e.jsx(s.em,{children:"pseudo-distributed"})," vs. ",e.jsx(s.em,{children:"fully-distributed"})," nomenclature comes from Hadoop."]}),`
`,e.jsxs(s.p,{children:["Pseudo-distributed mode can run against the local filesystem or it can run against an instance of the ",e.jsx(s.em,{children:"Hadoop Distributed File System"})," (HDFS). Fully-distributed mode can ONLY run on HDFS. See the Hadoop ",e.jsx(s.a,{href:"https://hadoop.apache.org/docs/current/",children:"documentation"})," for how to set up HDFS. A good walk-through for setting up HDFS on Hadoop 2 can be found at ",e.jsx(s.a,{href:"https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/",children:"https://web.archive.org/web/20221007121526/https://www.alexjf.net/blog/distributed-systems/hadoop-yarn-installation-definitive-guide/"}),"."]}),`
`,e.jsx(s.h3,{id:"pseudo-distributed",children:"Pseudo-distributed"}),`
`,e.jsx(t,{type:"info",children:e.jsxs(s.p,{children:["A quickstart has been added to the ",e.jsx(s.a,{href:"/docs/getting-started#quick-start---standalone-hbase",children:"quickstart"}),` chapter. See
`,e.jsx(s.a,{href:"/docs/getting-started#pseudo-distributed-for-local-testing",children:"quickstart-pseudo"}),". Some of the information that was originally in this section has been moved there."]})}),`
`,e.jsx(s.p,{children:"A pseudo-distributed mode is simply a fully-distributed mode run on a single host. Use this HBase configuration for testing and prototyping purposes only. Do not use this configuration for production or for performance evaluation."}),`
`,e.jsx(s.h2,{id:"fully-distributed",children:"Fully-distributed"}),`
`,e.jsx(s.p,{children:"By default, HBase runs in stand-alone mode. Both stand-alone mode and pseudo-distributed mode are provided for the purposes of small-scale testing. For a production environment, distributed mode is advised. In distributed mode, multiple instances of HBase daemons run on multiple servers in the cluster."}),`
`,e.jsxs(s.p,{children:["Just as in pseudo-distributed mode, a fully distributed configuration requires that you set the ",e.jsx(s.code,{children:"hbase.cluster.distributed"})," property to ",e.jsx(s.code,{children:"true"}),". Typically, the ",e.jsx(s.code,{children:"hbase.rootdir"})," is configured to point to a highly-available HDFS filesystem."]}),`
`,e.jsxs(s.p,{children:["In addition, the cluster is configured so that multiple cluster nodes enlist as RegionServers, ZooKeeper QuorumPeers, and backup HMaster servers. These configuration basics are all demonstrated in ",e.jsx(s.a,{href:"/docs/getting-started#fully-distributed-for-production",children:"quickstart-fully-distributed"}),"."]}),`
`,e.jsx(s.h3,{id:"distributed-regionservers",children:"Distributed RegionServers"}),`
`,e.jsxs(s.p,{children:["Typically, your cluster will contain multiple RegionServers all running on different servers, as well as primary and backup Master and ZooKeeper daemons. The ",e.jsx(s.em,{children:"conf/regionservers"})," file on the master server contains a list of hosts whose RegionServers are associated with this cluster. Each host is on a separate line. All hosts listed in this file will have their RegionServer processes started and stopped when the master server starts or stops."]}),`
`,e.jsx(s.h3,{id:"zookeeper-and-hbase",children:"ZooKeeper and HBase"}),`
`,e.jsxs(s.p,{children:["See the ",e.jsx(s.a,{href:"/docs/zookeeper",children:"ZooKeeper"})," section for ZooKeeper setup instructions for HBase."]}),`
`,e.jsx(s.h3,{id:"example-distributed-hbase-cluster",children:"Example: Distributed HBase Cluster"}),`
`,e.jsxs(s.p,{children:["This is a bare-bones ",e.jsx(s.em,{children:"conf/hbase-site.xml"})," for a distributed HBase cluster. A cluster that is used for real-world work would contain more custom configuration parameters. Most HBase configuration directives have default values, which are used unless the value is overridden in the ",e.jsx(s.em,{children:"hbase-site.xml"}),'. See "',e.jsx(s.a,{href:"/docs/configuration/default",children:"Configuration Files"}),'" for more information.']}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(s.code,{children:[e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"<"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"configuration"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hbase.rootdir</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hdfs://namenode.example.org:9000/hbase</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hbase.cluster.distributed</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">true</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">hbase.zookeeper.quorum</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"name"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"    <"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">node-a.example.com,node-b.example.com,node-c.example.com</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"value"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"  </"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"property"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]}),`
`,e.jsxs(s.span,{className:"line",children:[e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:"</"}),e.jsx(s.span,{style:{"--shiki-light":"#22863A","--shiki-dark":"#85E89D"},children:"configuration"}),e.jsx(s.span,{style:{"--shiki-light":"#24292E","--shiki-dark":"#E1E4E8"},children:">"})]})]})})}),`
`,e.jsxs(s.p,{children:["This is an example ",e.jsx(s.em,{children:"conf/regionservers"})," file, which contains a list of nodes that should run a RegionServer in the cluster. These nodes need HBase installed and they need to use the same contents of the ",e.jsx(s.em,{children:"conf/"})," directory as the Master server."]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"node-a.example.com"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"node-b.example.com"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"node-c.example.com"})})]})})}),`
`,e.jsxs(s.p,{children:["This is an example ",e.jsx(s.em,{children:"conf/backup-masters"})," file, which contains a list of each node that should run a backup Master instance. The backup Master instances will sit idle unless the main Master becomes unavailable."]}),`
`,e.jsx(e.Fragment,{children:e.jsx(s.pre,{className:"shiki shiki-themes github-light github-dark",style:{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},tabIndex:"0",icon:'<svg viewBox="0 0 24 24"><path d="M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z" fill="currentColor" /></svg>',children:e.jsxs(s.code,{children:[e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"node-b.example.com"})}),`
`,e.jsx(s.span,{className:"line",children:e.jsx(s.span,{children:"node-c.example.com"})})]})})}),`
`,e.jsx(s.h3,{id:"distributed-hbase-quickstart",children:"Distributed HBase Quickstart"}),`
`,e.jsxs(s.p,{children:["See ",e.jsx(s.a,{href:"/docs/getting-started#fully-distributed-for-production",children:"quickstart-fully-distributed"})," for a walk-through of a simple three-node cluster configuration with multiple ZooKeeper, backup HMaster, and RegionServer instances."]}),`
`,e.jsx(s.h3,{id:"procedure-hdfs-client-configuration",children:"Procedure: HDFS Client Configuration"}),`
`,e.jsxs(s.ol,{children:[`
`,e.jsxs(s.li,{children:["Of note, if you have made HDFS client configuration changes on your Hadoop cluster, such as configuration directives for HDFS clients, as opposed to server-side configurations, you must use one of the following methods to enable HBase to see and use these configuration changes:",`
`,e.jsxs(s.ul,{children:[`
`,e.jsxs(s.li,{children:["Add a pointer to your ",e.jsx(s.code,{children:"HADOOP_CONF_DIR"})," to the ",e.jsx(s.code,{children:"HBASE_CLASSPATH"})," environment variable in ",e.jsx(s.em,{children:"hbase-env.sh"}),"."]}),`
`,e.jsxs(s.li,{children:["Add a copy of ",e.jsx(s.em,{children:"hdfs-site.xml"})," (or ",e.jsx(s.em,{children:"hadoop-site.xml"}),") or, better, symlinks, under ",e.jsx(s.code,{children:"$HBASE_HOME/conf"}),", or"]}),`
`,e.jsxs(s.li,{children:["if only a small set of HDFS client configurations, add them to ",e.jsx(s.em,{children:"hbase-site.xml"}),"."]}),`
`]}),`
`]}),`
`]}),`
`,e.jsxs(s.p,{children:["An example of such an HDFS client configuration is ",e.jsx(s.code,{children:"dfs.replication"}),". If for example, you want to run with a replication factor of 5, HBase will create files with the default of 3 unless you do the above to make the configuration available to HBase."]}),`
`,e.jsx(s.h2,{id:"choosing-between-the-classic-package-and-the-byo-hadoop-package",children:"Choosing between the Classic Package and the BYO Hadoop Package"}),`
`,e.jsxs(s.p,{children:['Starting with HBase 3.0, HBase includes two binary packages. The classic package includes both the HBase and Hadoop components, while the Hadoop-less "Bring Your Own Hadoop" package omits the Hadoop components, and uses the files from an existing Hadoop installation. The classic binary package filename is named ',e.jsx(s.code,{children:"hbase-VERSION-bin.tar.gz"})," (e.g. ",e.jsx(s.em,{children:"hbase-3.0.0-bin.tar.gz"}),"), while the Hadoop-less package is ",e.jsx(s.code,{children:"hbase-byo-hadoop-VERSION-bin.tar.gz"})," (e.g. ",e.jsx(s.em,{children:"hbase-byo-hadoop-3.0.0-bin.tar.gz"}),")."]}),`
`,e.jsxs(s.p,{children:["If the cluster nodes already have Hadoop installed, you can use the Hadoop-less package. In this case you need to make sure that the ",e.jsx(s.code,{children:"HADOOP_HOME"})," environment variable is set and points to the Hadoop installation. The easiest way to ensure this is to set it in ",e.jsx(s.em,{children:"hbase-env.sh"}),". You still need to make sure that the Hadoop configuration files are present on the HBase classpath, as described above."]}),`
`,e.jsx(s.h2,{id:"advantages-of-the-byo-hadoop-package",children:"Advantages of the BYO Hadoop package:"}),`
`,e.jsxs(s.ul,{children:[`
`,e.jsx(s.li,{children:"There is no need to replace the Hadoop libraries."}),`
`,e.jsx(s.li,{children:"It is easier to upgrade Hadoop and HBase independently (as long as compatible versions are used)."}),`
`,e.jsx(s.li,{children:"Both the package and installed size are about 100 MB smaller."}),`
`]})]})}function u(i={}){const{wrapper:s}=i.components||{};return s?e.jsx(s,{...i,children:e.jsx(n,{...i})}):n(i)}function a(i,s){throw new Error("Expected component `"+i+"` to be defined: you likely forgot to import, pass, or provide it.")}export{r as _markdown,u as default,l as extractedReferences,d as frontmatter,h as structuredData,c as toc};
