<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="image" href="/favicon.ico"/><link rel="preload" as="font" href="/fonts/inter-latin-wght-normal.woff2" type="font/woff2" crossorigin="anonymous"/><link rel="prefetch" as="font" href="/fonts/inter-latin-wght-italic.woff2" type="font/woff2" crossorigin="anonymous"/><link rel="modulepreload" href="/assets/manifest-7dafdd91.js"/><link rel="modulepreload" href="/assets/entry.client-Io3msCv5.js"/><link rel="modulepreload" href="/assets/chunk-OIYGIGL5-BFuAKb0n.js"/><link rel="modulepreload" href="/assets/index-BNxrls_M.js"/><link rel="modulepreload" href="/assets/root-DujOAN-D.js"/><link rel="modulepreload" href="/assets/theme-provider-BedQd-CY.js"/><link rel="modulepreload" href="/assets/docs-layout-B8UoaNQ7.js"/><link rel="modulepreload" href="/assets/docs-layout-Ce5CccAJ.js"/><link rel="modulepreload" href="/assets/index-BjhdOWXv.js"/><link rel="modulepreload" href="/assets/index-Cx3IAmE2.js"/><link rel="modulepreload" href="/assets/index-lnR2ABT4.js"/><link rel="modulepreload" href="/assets/Combination-Dzs_BIEW.js"/><link rel="modulepreload" href="/assets/docs-yXJJewLr.js"/><link rel="modulepreload" href="/assets/button-BWXJg5M3.js"/><link rel="modulepreload" href="/assets/mdx-C_UPS_xp.js"/><link rel="modulepreload" href="/assets/collapsible-DqAceCe3.js"/><link rel="modulepreload" href="/assets/link-B5T3dZFY.js"/><link rel="modulepreload" href="/assets/external-link-CXPFavGw.js"/><link rel="modulepreload" href="/assets/createLucideIcon-B21x_0aJ.js"/><title>RegionServer Sizing Rules of Thumb</title><meta name="description" content="Memory sizing guidelines, rowkey design patterns, schema case studies, and performance optimization tips for HBase RegionServers."/><link rel="stylesheet" href="/assets/root-BtA_CDVx.css"/><link rel="stylesheet" href="/assets/app-DQO2Jwsi.css"/><script>
              (function() {
                const theme = localStorage.getItem('theme');
                const root = document.documentElement;
                root.classList.remove('light', 'dark');
                
                if (theme && ['light', 'dark'].includes(theme)) {
                  root.classList.add(theme);
                } else {
                  const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
                  root.classList.add(systemTheme);
                  localStorage.setItem('theme', systemTheme);
                }
              })();
            </script><noscript><style>.theme-toggle-wrapper { display: none !important; }</style></noscript></head><body class="font-base"><script>((e,i,s,u,m,a,l,h)=>{let d=document.documentElement,w=["light","dark"];function p(n){(Array.isArray(e)?e:[e]).forEach(y=>{let k=y==="class",S=k&&a?m.map(f=>a[f]||f):m;k?(d.classList.remove(...S),d.classList.add(a&&a[n]?a[n]:n)):d.setAttribute(y,n)}),R(n)}function R(n){h&&w.includes(n)&&(d.style.colorScheme=n)}function c(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(u)p(u);else try{let n=localStorage.getItem(i)||s,y=l&&n==="system"?c():n;p(y)}catch(n){}})("class","theme","system",null,["light","dark"],null,true,true)</script><div id="nd-docs-layout" class="grid min-h-(--fd-docs-height) auto-cols-auto auto-rows-auto overflow-x-clip transition-[grid-template-columns] [--fd-docs-height:100dvh] [--fd-header-height:0px] [--fd-sidebar-width:0px] [--fd-toc-popover-height:0px] [--fd-toc-width:285px] max-xl:[--fd-toc-popover-height:--spacing(10)] max-md:[--fd-header-height:--spacing(14)] md:[--fd-sidebar-width:285px]" data-sidebar-collapsed="false" style="grid-template:&quot;sidebar header toc&quot;
        &quot;sidebar toc-popover toc&quot;
        &quot;sidebar main toc&quot; 1fr / minmax(var(--fd-sidebar-col), 1fr) minmax(0, calc(var(--fd-layout-width,97rem) - var(--fd-sidebar-width) - var(--fd-toc-width))) minmax(min-content, 1fr);--fd-docs-row-1:var(--fd-banner-height, 0px);--fd-docs-row-2:calc(var(--fd-docs-row-1) + var(--fd-header-height));--fd-docs-row-3:calc(var(--fd-docs-row-2) + var(--fd-toc-popover-height));--fd-sidebar-col:var(--fd-sidebar-width)"><header data-transparent="false" id="nd-subnav" class="data-[transparent=false]:bg-fd-background/80 sticky top-(--fd-docs-row-1) z-30 flex h-(--fd-header-height) items-center border-b ps-4 pe-2.5 backdrop-blur-sm transition-colors [grid-area:header] md:hidden"><a class="inline-flex items-center gap-2.5 font-semibold" href="/" data-discover="true"><div class="flex items-center gap-2"><img src="/favicon.ico" alt="HBase favicon" width="16" height="16"/><p>Apache HBase</p></div></a><div class="flex-1"></div><button type="button" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8 p-2" data-search="" aria-label="Open Search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button><button aria-label="Open Sidebar" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8 p-2"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg></button></header><div data-sidebar-placeholder="" class="pointer-events-none sticky top-(--fd-docs-row-1) z-20 h-[calc(var(--fd-docs-height)-var(--fd-docs-row-1))] [grid-area:sidebar] *:pointer-events-auto max-md:hidden"><aside id="nd-sidebar" data-collapsed="false" data-hovered="false" class="bg-fd-card absolute inset-y-0 start-0 flex flex-col items-end border-e text-sm duration-250 *:w-(--fd-sidebar-width)"><div class="flex flex-col gap-3 p-4 pb-2"><div class="flex"><a class="inline-flex text-[0.9375rem] items-center gap-2.5 font-medium me-auto" href="/" data-discover="true"><div class="flex items-center gap-2"><img src="/favicon.ico" alt="HBase favicon" width="16" height="16"/><p>Apache HBase</p></div></a><button type="button" aria-label="Collapse Sidebar" data-collapsed="false" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8 text-fd-muted-foreground mb-auto"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg></button></div><button type="button" data-search-full="" class="bg-fd-secondary/50 text-fd-muted-foreground hover:bg-fd-accent hover:text-fd-accent-foreground inline-flex items-center gap-2 rounded-lg border p-1.5 ps-2 text-sm transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search size-4"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search<div class="ms-auto inline-flex gap-0.5"><kbd class="bg-fd-background rounded-md border px-1.5">⌘</kbd><kbd class="bg-fd-background rounded-md border px-1.5">K</kbd></div></button><button type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-_R_r5aj5_" data-state="closed" class="bg-fd-secondary/50 text-fd-secondary-foreground hover:bg-fd-accent data-[state=open]:bg-fd-accent data-[state=open]:text-fd-accent-foreground flex items-center gap-2 rounded-lg border p-2 text-start transition-colors"><div class="size-9 shrink-0 empty:hidden md:size-5"></div><div><p class="text-sm font-medium">Multi-Page Documentation</p><p class="text-fd-muted-foreground text-sm empty:hidden md:hidden">Split across multiple pages</p></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevrons-up-down text-fd-muted-foreground ms-auto size-4 shrink-0"><path d="m7 15 5 5 5-5"></path><path d="m7 9 5-5 5 5"></path></svg></button></div><div dir="ltr" data-slot="scroll-area" class="relative min-h-0 flex-1" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" data-slot="scroll-area-viewport" class="focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="overscroll-contain p-4" style="overflow-x:unset;overflow-y:unset;mask-image:linear-gradient(to bottom, transparent, white 12px, white calc(100% - 12px), transparent)"><div style="min-width:100%;display:table"><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Getting Started</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs" data-discover="true">Preface</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/getting-started" data-discover="true">Getting Started</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Configuration &amp; Setup</p><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/configuration" data-discover="true">Configuration<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_bad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/upgrading" data-discover="true">Upgrading<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_dad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/shell" data-discover="true">The Apache HBase Shell</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Core Concepts</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/datamodel" data-discover="true">Data Model</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/schema-design" data-discover="true">HBase and Schema Design</a><a data-active="true" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/regionserver-sizing" data-discover="true">RegionServer Sizing Rules of Thumb</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/mapreduce" data-discover="true">HBase and MapReduce</a><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/security" data-discover="true">Security<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_rad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/architecture" data-discover="true">Architecture<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_tad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Advanced Features</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/inmemory-compaction" data-discover="true">In-memory Compaction</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/offheap-read-write" data-discover="true">RegionServer Off-Heap Read/Write Path</a><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/backup-restore" data-discover="true">Backup and Restore<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_15ad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/sync-replication" data-discover="true">Synchronous Replication</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">APIs &amp; Integration</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/hbase-apis" data-discover="true">Apache HBase APIs</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/external-apis" data-discover="true">Apache HBase External APIs</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/thrift-filter-language" data-discover="true">Thrift API and Filter Language</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/spark" data-discover="true">HBase and Spark</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/cp" data-discover="true">Apache HBase Coprocessors</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Performance &amp; Troubleshooting</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/performance" data-discover="true">Apache HBase Performance Tuning</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/profiler" data-discover="true">Profiler Servlet</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/troubleshooting" data-discover="true">Troubleshooting and Debugging Apache HBase</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/case-studies" data-discover="true">Apache HBase Case Studies</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Operations &amp; Development</p><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/operational-management" data-discover="true">Apache HBase Operational Management<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_21ad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><div data-state="closed" data-slot="collapsible" class="group"><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors w-full" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/building-and-developing" data-discover="true">Building and Developing Apache HBase<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down ms-auto transition-transform -rotate-90" data-icon="true"><path d="m6 9 6 6 6-6"></path></svg></a><div data-state="closed" id="radix-_R_23ad5aj5_" hidden="" data-slot="collapsible-content" class="relative before:bg-fd-border before:absolute before:inset-y-1 before:start-2.5 before:w-px before:content-[&#x27;&#x27;]"></div></div><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/unit-testing" data-discover="true">Unit Testing HBase Applications</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Internals</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/protobuf" data-discover="true">Protobuf in HBase</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/pv2" data-discover="true">Procedure Framework (PV2)</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/amv2" data-discover="true">AMv2 Description for Devs</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Infrastructure &amp; Tools</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/zookeeper" data-discover="true">ZooKeeper</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/community" data-discover="true">Community</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/hbtop" data-discover="true">hbtop</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/tracing" data-discover="true">Tracing</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/store-file-tracking" data-discover="true">Store File Tracking</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/bulk-data-generator-tool" data-discover="true">Bulk Data Generator Tool</a><p class="mt-6 mb-1.5 inline-flex items-center gap-2 px-2 empty:mb-0 first:mt-0 [&amp;_svg]:size-4 [&amp;_svg]:shrink-0" style="padding-inline-start:calc(2 * var(--spacing))">Appendices</p><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/contributing-to-documentation" data-discover="true">Appendix: Contributing to Documentation</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/faq" data-discover="true">FAQ</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/acl-matrix" data-discover="true">Access Control Matrix</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/compression" data-discover="true">Compression and Data Block Encoding In HBase</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/sql" data-discover="true">SQL over HBase</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/ycsb" data-discover="true">YCSB</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/hfile-format" data-discover="true">HFile Format</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/other-info" data-discover="true">Other Information About HBase</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/hbase-history" data-discover="true">HBase History</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/asf" data-discover="true">HBase and the Apache Software Foundation</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/orca" data-discover="true">Apache HBase Orca</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/rpc" data-discover="true">0.95 RPC Specification</a><a data-active="false" class="relative flex flex-row items-center gap-2 rounded-lg p-2 text-start text-fd-muted-foreground wrap-anywhere [&amp;_svg]:size-4 [&amp;_svg]:shrink-0 transition-colors hover:bg-fd-accent/50 hover:text-fd-accent-foreground/80 hover:transition-none data-[active=true]:bg-fd-primary/10 data-[active=true]:text-fd-primary data-[active=true]:hover:transition-colors" style="padding-inline-start:calc(2 * var(--spacing))" href="/docs/hbase-incompatibilities" data-discover="true">Known Incompatibilities Among HBase Versions</a></div></div></div></div></div><div class="flex flex-col border-t p-4 pt-2 empty:hidden"><div class="text-fd-muted-foreground flex items-center empty:hidden"><a href="https://github.com/apache/hbase/" rel="noreferrer noopener" target="_blank" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8" aria-label="GitHub" data-active="false"><svg role="img" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><button class="inline-flex items-center rounded-full border ms-auto p-0" aria-label="Toggle Theme" data-theme-toggle=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun size-6.5 rounded-full p-1.5 text-fd-muted-foreground"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon size-6.5 rounded-full p-1.5 text-fd-muted-foreground"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg></button></div></div></aside></div><div data-sidebar-panel="" class="bg-fd-muted text-fd-muted-foreground fixed start-4 top-[calc(--spacing(4)+var(--fd-docs-row-3))] z-10 flex rounded-xl border p-0.5 shadow-lg transition-opacity pointer-events-none opacity-0"><button type="button" aria-label="Collapse Sidebar" data-collapsed="false" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8 rounded-lg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-panel-left"><rect width="18" height="18" x="3" y="3" rx="2"></rect><path d="M9 3v18"></path></svg></button><button type="button" class="inline-flex items-center cursor-pointer justify-center gap-2 whitespace-nowrap text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*=&#x27;size-&#x27;])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 hover:bg-accent hover:text-accent-foreground size-8 rounded-lg" data-search="" aria-label="Open Search"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search"><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button></div><div data-state="closed" data-slot="collapsible" class="group sticky top-(--fd-docs-row-2) z-10 h-(--fd-toc-popover-height) [grid-area:toc-popover] xl:hidden" data-toc-popover=""><header class="border-b backdrop-blur-sm transition-colors bg-fd-background/80"><button type="button" aria-controls="radix-_R_1ij5_" aria-expanded="false" data-state="closed" class="cursor-pointer text-fd-muted-foreground flex h-10 w-full items-center gap-2.5 px-4 py-2.5 text-start text-sm focus-visible:outline-none md:px-6 [&amp;_svg]:size-4" data-slot="collapsible-trigger" data-toc-popover-trigger=""><svg role="progressbar" viewBox="0 0 24 24" aria-valuenow="0" aria-valuemin="0" aria-valuemax="1" class="shrink-0"><circle cx="12" cy="12" r="11" fill="none" stroke-width="2" class="stroke-current/25"></circle><circle cx="12" cy="12" r="11" fill="none" stroke-width="2" stroke="currentColor" stroke-dasharray="69.11503837897544" stroke-dashoffset="69.11503837897544" stroke-linecap="round" transform="rotate(-90 12 12)" class="transition-all"></circle></svg><span class="grid flex-1 *:col-start-1 *:row-start-1 *:my-auto"><span class="truncate transition-[opacity,translate,color]">RegionServer Sizing Rules of Thumb</span><span class="truncate transition-[opacity,translate] pointer-events-none translate-y-full opacity-0"></span></span><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down mx-0.5 shrink-0 transition-transform"><path d="m6 9 6 6 6-6"></path></svg></button><div data-state="closed" id="radix-_R_1ij5_" hidden="" data-slot="collapsible-content" data-toc-popover-content="" class="flex max-h-[50vh] flex-col px-4 md:px-6"></div></header></div><article id="nd-page" data-full="false" class="mx-auto flex w-full max-w-[900px] flex-col gap-4 px-4 py-6 [grid-area:main] md:px-6 md:pt-8 xl:px-8 xl:pt-14 xl:[--fd-toc-width:285px]"><div class="no-print"><h1 class="text-[1.75em] font-semibold">RegionServer Sizing Rules of Thumb</h1><p class="text-fd-muted-foreground mb-8 text-lg">Memory sizing guidelines, rowkey design patterns, schema case studies, and performance optimization tips for HBase RegionServers.</p></div><div class="prose flex-1"><p class="wrap-anywhere">Lars Hofhansl wrote a great <a href="http://hadoop-hbase.blogspot.com/2013/01/hbase-region-server-memory-sizing.html">blog post</a> about RegionServer memory sizing. The upshot is that you probably need more memory than you think you need. He goes into the impact of region size, memstore size, HDFS replication factor, and other things to check.</p>
<blockquote>
<p class="wrap-anywhere">Personally I would place the maximum disk space per machine that can be served exclusively with HBase around 6T, unless you have a very read-heavy workload. In that case the Java heap should be 32GB (20G regions, 128M memstores, the rest defaults).</p>
<p class="wrap-anywhere">— Lars Hofhansl <a href="http://hadoop-hbase.blogspot.com/2013/01/hbase-region-server-memory-sizing.html">http://hadoop-hbase.blogspot.com/2013/01/hbase-region-server-memory-sizing.html</a></p>
</blockquote>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="on-the-number-of-column-families"><a data-card="" href="#on-the-number-of-column-families" class="peer">On the number of column families</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">HBase currently does not do well with anything above two or three column families so keep the number of column families in your schema low. Currently, flushing is done on a per Region basis so if one column family is carrying the bulk of the data bringing on flushes, the adjacent families will also be flushed even though the amount of data they carry is small. When many column families exist the flushing interaction can make for a bunch of needless i/o (To be addressed by changing flushing to work on a per column family basis). In addition, compactions triggered at table/region level will happen per store too.</p>
<p class="wrap-anywhere">Try to make do with one column family if you can in your schemas. Only introduce a second and third column family in the case where data access is usually column scoped; i.e. you query one column family or the other but usually not both at the one time.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="cardinality-of-columnfamilies"><a data-card="" href="#cardinality-of-columnfamilies" class="peer">Cardinality of ColumnFamilies</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Where multiple ColumnFamilies exist in a single table, be aware of the cardinality (i.e., number of rows). If ColumnFamilyA has 1 million rows and ColumnFamilyB has 1 billion rows, ColumnFamilyA&#x27;s data will likely be spread across many, many regions (and RegionServers). This makes mass scans for ColumnFamilyA less efficient.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="rowkey-design"><a data-card="" href="#rowkey-design" class="peer">Rowkey Design</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="hotspotting"><a data-card="" href="#hotspotting" class="peer">Hotspotting</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Rows in HBase are sorted lexicographically by row key. This design optimizes for scans, allowing you to store related rows, or rows that will be read together, near each other. However, poorly designed row keys are a common source of <strong>hotspotting</strong>. Hotspotting occurs when a large amount of client traffic is directed at one node, or only a few nodes, of a cluster. This traffic may represent reads, writes, or other operations. The traffic overwhelms the single machine responsible for hosting that region, causing performance degradation and potentially leading to region unavailability. This can also have adverse effects on other regions hosted by the same region server as that host is unable to service the requested load. It is important to design data access patterns such that the cluster is fully and evenly utilized.</p>
<p class="wrap-anywhere">To prevent hotspotting on writes, design your row keys such that rows that truly do need to be in the same region are, but in the bigger picture, data is being written to multiple regions across the cluster, rather than one at a time. Some common techniques for avoiding hotspotting are described below, along with some of their advantages and drawbacks.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="salting-toc"><a data-card="" href="#salting-toc" class="peer">Salting</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Salting in this sense has nothing to do with cryptography, but refers to adding random data to the start of a row key. In this case, salting refers to adding a randomly-assigned prefix to the row key to cause it to sort differently than it otherwise would. The number of possible prefixes correspond to the number of regions you want to spread the data across. Salting can be helpful if you have a few &quot;hot&quot; row key patterns which come up over and over amongst other more evenly-distributed rows. Consider the following example, which shows that salting can spread write load across multiple RegionServers, and illustrates some of the negative implications for reads.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="salting-example-toc"><a data-card="" href="#salting-example-toc" class="peer">Salting Example:</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Suppose you have the following list of row keys, and your table is split such that there is one region for each letter of the alphabet. Prefix &#x27;a&#x27; is one region, prefix &#x27;b&#x27; is another. In this table, all rows starting with &#x27;f&#x27; are in the same region. This example focuses on rows with keys like the following:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>foo0001</span></span>
<span class="line"><span>foo0002</span></span>
<span class="line"><span>foo0003</span></span>
<span class="line"><span>foo0004</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Now, imagine that you would like to spread these across four different regions. You decide to use four different salts: <code>a</code>, <code>b</code>, <code>c</code>, and <code>d</code>. In this scenario, each of these letter prefixes will be on a different region. After applying the salts, you have the following rowkeys instead. Since you can now write to four separate regions, you theoretically have four times the throughput when writing that you would have if all the writes were going to the same region.</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>a-foo0003</span></span>
<span class="line"><span>b-foo0001</span></span>
<span class="line"><span>c-foo0004</span></span>
<span class="line"><span>d-foo0002</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Then, if you add another row, it will randomly be assigned one of the four possible salt values and end up near one of the existing rows.</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>a-foo0003</span></span>
<span class="line"><span>b-foo0001</span></span>
<span class="line"><span>c-foo0003</span></span>
<span class="line"><span>c-foo0004</span></span>
<span class="line"><span>d-foo0002</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Since this assignment will be random, you will need to do more work if you want to retrieve the rows in lexicographic order. In this way, salting attempts to increase throughput on writes, but has a cost during reads.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="hashing-toc"><a data-card="" href="#hashing-toc" class="peer">Hashing</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Instead of a random assignment, you could use a one-way <strong>hash</strong> that would cause a given row to always be &quot;salted&quot; with the same prefix, in a way that would spread the load across the RegionServers, but allow for predictability during reads. Using a deterministic hash allows the client to reconstruct the complete rowkey and use a Get operation to retrieve that row as normal.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="hashing-example-toc"><a data-card="" href="#hashing-example-toc" class="peer">Hashing Example:</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Given the same situation in the salting example above, you could instead apply a one-way hash that would cause the row with key <code>foo0003</code> to always, and predictably, receive the <code>a</code> prefix. Then, to retrieve that row, you would already know the key. You could also optimize things so that certain pairs of keys were always in the same region, for instance.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="reversing-the-key-toc"><a data-card="" href="#reversing-the-key-toc" class="peer">Reversing the Key</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">A third common trick for preventing hotspotting is to reverse a fixed-width or numeric row key so that the part that changes the most often (the least significant digit) is first. This effectively randomizes row keys, but sacrifices row ordering properties.</p>
<p class="wrap-anywhere">See <a href="https://communities.intel.com/community/itpeernetwork/datastack/blog/2013/11/10/discussion-on-designing-hbase-tables">https://communities.intel.com/community/itpeernetwork/datastack/blog/2013/11/10/discussion-on-designing-hbase-tables</a>, and <a href="https://phoenix.apache.org/salted.html">article on Salted Tables</a> from the Phoenix project, and the discussion in the comments of <a href="https://issues.apache.org/jira/browse/HBASE-11682">HBASE-11682</a> for more information about avoiding hotspotting.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="monotonically-increasing-row-keystimeseries-data"><a data-card="" href="#monotonically-increasing-row-keystimeseries-data" class="peer">Monotonically Increasing Row Keys/Timeseries Data</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">In the HBase chapter of Tom White&#x27;s book <a href="http://oreilly.com/catalog/9780596521981">Hadoop: The Definitive Guide</a> (O&#x27;Reilly) there is a an optimization note on watching out for a phenomenon where an import process walks in lock-step with all clients in concert pounding one of the table&#x27;s regions (and thus, a single node), then moving onto the next region, etc. With monotonically increasing row-keys (i.e., using a timestamp), this will happen. See this comic by IKai Lan on why monotonically increasing row keys are problematic in BigTable-like datastores: <a href="http://ikaisays.com/2011/01/25/app-engine-datastore-tip-monotonically-increasing-values-are-bad/">monotonically increasing values are bad</a>. The pile-up on a single region brought on by monotonically increasing keys can be mitigated by randomizing the input records to not be in sorted order, but in general it&#x27;s best to avoid using a timestamp or a sequence (e.g. 1, 2, 3) as the row-key.</p>
<p class="wrap-anywhere">If you do need to upload time series data into HBase, you should study <a href="http://opentsdb.net/">OpenTSDB</a> as a successful example. It has a page describing the <a href="http://opentsdb.net/schema.html">schema</a> it uses in HBase. The key format in OpenTSDB is effectively [metric_type][event_timestamp], which would appear at first glance to contradict the previous advice about not using a timestamp as the key. However, the difference is that the timestamp is not in the <em>lead</em> position of the key, and the design assumption is that there are dozens or hundreds (or more) of different metric types. Thus, even with a continual stream of input data with a mix of metric types, the Puts are distributed across various points of regions in the table.</p>
<p class="wrap-anywhere">See <a href="/docs/regionserver-sizing#schema-design-case-studies" data-discover="true">schema.casestudies</a> for some rowkey design examples.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="try-to-minimize-row-and-column-sizes"><a data-card="" href="#try-to-minimize-row-and-column-sizes" class="peer">Try to minimize row and column sizes</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">In HBase, values are always freighted with their coordinates; as a cell value passes through the system, it&#x27;ll be accompanied by its row, column name, and timestamp - always. If your rows and column names are large, especially compared to the size of the cell value, then you may run up against some interesting scenarios. One such is the case described by Marc Limotte at the tail of <a href="https://issues.apache.org/jira/browse/HBASE-3551?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;focusedCommentId=13005272#comment-13005272">HBASE-3551</a> (recommended!). Therein, the indices that are kept on HBase storefiles (see <a href="/docs/hfile-format" data-discover="true">HFile Format</a>) to facilitate random access may end up occupying large chunks of the HBase allotted RAM because the cell value coordinates are large. Mark in the above cited comment suggests upping the block size so entries in the store file index happen at a larger interval or modify the table schema so it makes for smaller rows and column names. Compression will also make for larger indices. See the thread <a href="https://lists.apache.org/thread.html/b158eae5d8888d3530be378298bca90c17f80982fdcdfa01d0844c3d%401306240189%40%3Cuser.hbase.apache.org%3E">a question storefileIndexSize</a> up on the user mailing list.</p>
<p class="wrap-anywhere">Most of the time small inefficiencies don&#x27;t matter all that much. Unfortunately, this is a case where they do. Whatever patterns are selected for ColumnFamilies, attributes, and rowkeys they could be repeated several billion times in your data.</p>
<p class="wrap-anywhere">See <a href="/docs/architecture/regions#keyvalue" data-discover="true">keyvalue</a> for more information on HBase stores data internally to see why this is important.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="column-families"><a data-card="" href="#column-families" class="peer">Column Families</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Try to keep the ColumnFamily names as small as possible, preferably one character (e.g. &quot;d&quot; for data/default).</p>
<p class="wrap-anywhere">See <a href="/docs/architecture/regions#keyvalue" data-discover="true">KeyValue</a> for more information on how HBase stores data internally.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="attributes"><a data-card="" href="#attributes" class="peer">Attributes</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Although verbose attribute names (e.g., &quot;myVeryImportantAttribute&quot;) are easier to read, prefer shorter attribute names (e.g., &quot;via&quot;) to store in HBase.</p>
<p class="wrap-anywhere">See <a href="/docs/architecture/regions#keyvalue" data-discover="true">keyvalue</a> for more information on HBase stores data internally to see why this is important.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="rowkey-length"><a data-card="" href="#rowkey-length" class="peer">Rowkey Length</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Keep them as short as is reasonable such that they can still be useful for required data access (e.g. Get vs. Scan). A short key that is useless for data access is not better than a longer key with better get/scan properties. Expect tradeoffs when designing rowkeys.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="byte-patterns"><a data-card="" href="#byte-patterns" class="peer">Byte Patterns</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">A long is 8 bytes. You can store an unsigned number up to 18,446,744,073,709,551,615 in those eight bytes. If you stored this number as a String — presuming a byte per character — you need nearly 3x the bytes.</p>
<p class="wrap-anywhere">Not convinced? Below is some sample code that you can run on your own.</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// long</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">//</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> l </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1234567890L</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] lb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Bytes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(l);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;long bytes length: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lb.length);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// returns 8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">String s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> String.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(l);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] sb </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Bytes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(s);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;long as string length: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> sb.length);    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// returns 10</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// hash</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">//</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">MessageDigest md </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> MessageDigest.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getInstance</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;MD5&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] digest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> md.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">digest</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Bytes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(s));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;md5 digest bytes length: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> digest.length);    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// returns 16</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">String sDigest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> String</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(digest);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] sbDigest </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> Bytes.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">toBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(sDigest);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">System.out.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">println</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;md5 digest as string length: &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> sbDigest.length);    </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// returns 26</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Unfortunately, using a binary representation of a type will make your data harder to read outside of your code. For example, this is what you will see in the shell when you increment a value:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):001:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> incr </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;t&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;f:q&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, 1</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">COUNTER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> VALUE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):002:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> get </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;t&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r&#x27;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">COLUMN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                        CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> f:q</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                          timestamp=1369163040570,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">00</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">01</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0310</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span></code></pre></div></figure>
<p class="wrap-anywhere">The shell makes a best effort to print a string, and it this case it decided to just print the hex. The same will happen to your row keys inside the region names. It can be okay if you know what&#x27;s being stored, but it might also be unreadable if arbitrary data can be put in the same cells. This is the main trade-off.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="reverse-timestamps"><a data-card="" href="#reverse-timestamps" class="peer">Reverse Timestamps</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<div class="flex gap-2 my-4 rounded-xl border bg-fd-card p-3 ps-1 text-sm text-fd-card-foreground shadow-md" style="--callout-color:var(--color-fd-info, var(--color-fd-muted))"><div role="none" class="w-0.5 bg-(--callout-color)/50 rounded-sm"></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-5 -me-0.5 fill-(--callout-color) text-fd-card"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg><div class="flex flex-col gap-2 min-w-0 flex-1"><div class="text-fd-muted-foreground prose-no-margin empty:hidden"><p class="wrap-anywhere"><a href="https://issues.apache.org/jira/browse/HBASE-4811">HBASE-4811</a> implements an API to scan a table
or a range within a table in reverse, reducing the need to optimize your schema for forward or
reverse scanning. This feature is available in HBase 0.98 and later. See
<a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Scan.html#setReversed(boolean)">Scan.setReversed()</a>
for more information.</p></div></div></div>
<p class="wrap-anywhere">A common problem in database processing is quickly finding the most recent version of a value. A technique using reverse timestamps as a part of the key can help greatly with a special case of this problem. Also found in the HBase chapter of Tom White&#x27;s book Hadoop: The Definitive Guide (O&#x27;Reilly), the technique involves appending (<code>Long.MAX_VALUE - timestamp</code>) to the end of any key, e.g. [key][reverse_timestamp].</p>
<p class="wrap-anywhere">The most recent value for [key] in a table can be found by performing a Scan for [key] and obtaining the first record. Since HBase keys are in sorted order, this key sorts before any older row-keys for [key] and thus is first.</p>
<p class="wrap-anywhere">This technique would be used instead of using <a href="/docs/regionserver-sizing#number-of-versions" data-discover="true">Number of Versions</a> where the intent is to hold onto all versions &quot;forever&quot; (or a very long time) and at the same time quickly obtain access to any other version by using the same Scan technique.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="rowkeys-and-columnfamilies"><a data-card="" href="#rowkeys-and-columnfamilies" class="peer">Rowkeys and ColumnFamilies</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Rowkeys are scoped to ColumnFamilies. Thus, the same rowkey could exist in each ColumnFamily that exists in a table without collision.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="immutability-of-rowkeys"><a data-card="" href="#immutability-of-rowkeys" class="peer">Immutability of Rowkeys</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Rowkeys cannot be changed. The only way they can be &quot;changed&quot; in a table is if the row is deleted and then re-inserted. This is a fairly common question on the HBase dist-list so it pays to get the rowkeys right the first time (and/or before you&#x27;ve inserted a lot of data).</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="relationship-between-rowkeys-and-region-splits"><a data-card="" href="#relationship-between-rowkeys-and-region-splits" class="peer">Relationship Between RowKeys and Region Splits</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">If you pre-split your table, it is <em>critical</em> to understand how your rowkey will be distributed across the region boundaries. As an example of why this is important, consider the example of using displayable hex characters as the lead position of the key (e.g., &quot;0000000000000000&quot; to &quot;ffffffffffffffff&quot;). Running those key ranges through <code>Bytes.split</code> (which is the split strategy used when creating regions in <code>Admin.createTable(byte[] startKey, byte[] endKey, numRegions)</code> for 10 regions will generate the following splits...</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>48 48 48 48 48 48 48 48 48 48 48 48 48 48 48 48                                // 0</span></span>
<span class="line"><span>54 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10 -10                 // 6</span></span>
<span class="line"><span>61 -67 -67 -67 -67 -67 -67 -67 -67 -67 -67 -67 -67 -67 -67 -68                 // =</span></span>
<span class="line"><span>68 -124 -124 -124 -124 -124 -124 -124 -124 -124 -124 -124 -124 -124 -124 -126  // D</span></span>
<span class="line"><span>75 75 75 75 75 75 75 75 75 75 75 75 75 75 75 72                                // K</span></span>
<span class="line"><span>82 18 18 18 18 18 18 18 18 18 18 18 18 18 18 14                                // R</span></span>
<span class="line"><span>88 -40 -40 -40 -40 -40 -40 -40 -40 -40 -40 -40 -40 -40 -40 -44                 // X</span></span>
<span class="line"><span>95 -97 -97 -97 -97 -97 -97 -97 -97 -97 -97 -97 -97 -97 -97 -102                // _</span></span>
<span class="line"><span>102 102 102 102 102 102 102 102 102 102 102 102 102 102 102 102                // f</span></span></code></pre></div></figure>
<p class="wrap-anywhere">(note: the lead byte is listed to the right as a comment.) Given that the first split is a &#x27;0&#x27; and the last split is an &#x27;f&#x27;, everything is great, right? Not so fast.</p>
<p class="wrap-anywhere">The problem is that all the data is going to pile up in the first 2 regions and the last region thus creating a &quot;lumpy&quot; (and possibly &quot;hot&quot;) region problem. To understand why, refer to an <a href="http://www.asciitable.com">ASCII Table</a>. &#x27;0&#x27; is byte 48, and &#x27;f&#x27; is byte 102, but there is a huge gap in byte values (bytes 58 to 96) that will <em>never appear in this keyspace</em> because the only values are [0-9] and [a-f]. Thus, the middle regions will never be used. To make pre-splitting work with this example keyspace, a custom definition of splits (i.e., and not relying on the built-in split method) is required.</p>
<p class="wrap-anywhere">Lesson #1: Pre-splitting tables is generally a best practice, but you need to pre-split them in such a way that all the regions are accessible in the keyspace. While this example demonstrated the problem with a hex-key keyspace, the same problem can happen with <em>any</em> keyspace. Know your data.</p>
<p class="wrap-anywhere">Lesson #2: While generally not advisable, using hex-keys (and more generally, displayable data) can still work with pre-split tables as long as all the created regions are accessible in the keyspace.</p>
<p class="wrap-anywhere">To conclude this example, the following is an example of how appropriate splits can be pre-created for hex-keys:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> boolean</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> createTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Admin admin, HTableDescriptor table, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[][] splits)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">throws IOException {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    admin.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">createTable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">( table, splits );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (TableExistsException </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">info</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;table &quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> +</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> table.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getNameAsString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &quot; already exists&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    // the table already exists...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> static</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[][] </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getHexSplits</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(String startKey, String endKey, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> numRegions) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[][] splits </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[numRegions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">][];</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  BigInteger lowestKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> BigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(startKey, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  BigInteger highestKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> BigInteger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(endKey, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  BigInteger range </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> highestKey.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">subtract</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(lowestKey);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  BigInteger regionIncrement </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> range.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">divide</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(BigInteger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(numRegions));</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  lowestKey </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lowestKey.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(regionIncrement);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">int</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; i </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> numRegions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;i</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">++</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    BigInteger key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lowestKey.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(regionIncrement.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">multiply</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(BigInteger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">valueOf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(i)));</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    byte</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[] b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> String.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">format</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&quot;%016x&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, key).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">getBytes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    splits[i] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> b;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> splits;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre></div></figure>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="number-of-versions"><a data-card="" href="#number-of-versions" class="peer">Number of Versions</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="maximum-number-of-versions"><a data-card="" href="#maximum-number-of-versions" class="peer">Maximum Number of Versions</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">The maximum number of row versions to store is configured per column family via <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/HColumnDescriptor.html">HColumnDescriptor</a>. The default for max versions is 1. This is an important parameter because as described in <a href="/docs/datamodel" data-discover="true">Data Model</a> section HBase does <em>not</em> overwrite row values, but rather stores different values per row by time (and qualifier). Excess versions are removed during major compactions. The number of max versions may need to be increased or decreased depending on application needs.</p>
<p class="wrap-anywhere">It is not recommended setting the number of max versions to an exceedingly high level (e.g., hundreds or more) unless those old values are very dear to you because this will greatly increase StoreFile size.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="minimum-number-of-versions"><a data-card="" href="#minimum-number-of-versions" class="peer">Minimum Number of Versions</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Like maximum number of row versions, the minimum number of row versions to keep is configured per column family via <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/ColumnFamilyDescriptorBuilder.html">ColumnFamilyDescriptorBuilder</a>. The default for min versions is 0, which means the feature is disabled. The minimum number of row versions parameter is used together with the time-to-live parameter and can be combined with the number of row versions parameter to allow configurations such as &quot;keep the last T minutes worth of data, at most N versions, <em>but keep at least M versions around</em>&quot; (where M is the value for minimum number of row versions, M&lt;N). This parameter should only be set when time-to-live is enabled for a column family and must be less than the number of row versions.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="supported-datatypes"><a data-card="" href="#supported-datatypes" class="peer">Supported Datatypes</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">HBase supports a &quot;bytes-in/bytes-out&quot; interface via <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Put.html">Put</a> and <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Result.html">Result</a>, so anything that can be converted to an array of bytes can be stored as a value. Input could be strings, numbers, complex objects, or even images as long as they can rendered as bytes.</p>
<p class="wrap-anywhere">There are practical limits to the size of values (e.g., storing 10-50MB objects in HBase would probably be too much to ask); search the mailing list for conversations on this topic. All rows in HBase conform to the <a href="/docs/datamodel" data-discover="true">Data Model</a>, and that includes versioning. Take that into consideration when making your design, as well as block size for the ColumnFamily.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="counters"><a data-card="" href="#counters" class="peer">Counters</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">One supported datatype that deserves special mention are &quot;counters&quot; (i.e., the ability to do atomic increments of numbers). See <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Table.html#increment(org.apache.hadoop.hbase.client.Increment)">Increment</a> in <code>Table</code>.</p>
<p class="wrap-anywhere">Synchronization on counters are done on the RegionServer, not in the client.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="regionserver-sizing-joins"><a data-card="" href="#regionserver-sizing-joins" class="peer">Joins</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">If you have multiple tables, don&#x27;t forget to factor in the potential for <a href="/docs/datamodel#datamodel-joins" data-discover="true">Joins</a> into the schema design.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="time-to-live-ttl"><a data-card="" href="#time-to-live-ttl" class="peer">Time To Live (TTL)</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">ColumnFamilies can set a TTL length in seconds, and HBase will automatically delete rows once the expiration time is reached. This applies to <em>all</em> versions of a row - even the current one. The TTL time encoded in the HBase for the row is specified in UTC.</p>
<p class="wrap-anywhere">Store files which contains only expired rows are deleted on minor compaction. Setting <code>hbase.store.delete.expired.storefile</code> to <code>false</code> disables this feature. Setting minimum number of versions to other than 0 also disables this.</p>
<p class="wrap-anywhere">See <a href="https://hbase.apache.org/apidocs/org/apache/hadoop/hbase/HColumnDescriptor.html">HColumnDescriptor</a> for more information.</p>
<p class="wrap-anywhere">Recent versions of HBase also support setting time to live on a per cell basis. See <a href="https://issues.apache.org/jira/browse/HBASE-10560">HBASE-10560</a> for more information. Cell TTLs are submitted as an attribute on mutation requests (Appends, Increments, Puts, etc.) using Mutation#setTTL. If the TTL attribute is set, it will be applied to all cells updated on the server by the operation. There are two notable differences between cell TTL handling and ColumnFamily TTLs:</p>
<ul>
<li>
<p class="wrap-anywhere">Cell TTLs are expressed in units of milliseconds instead of seconds.</p>
</li>
<li>
<p class="wrap-anywhere">A cell TTLs cannot extend the effective lifetime of a cell beyond a ColumnFamily level TTL setting.</p>
</li>
</ul>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="keeping-deleted-cells"><a data-card="" href="#keeping-deleted-cells" class="peer">Keeping Deleted Cells</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">By default, delete markers extend back to the beginning of time. Therefore, <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Get.html">Get</a> or <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Scan.html">Scan</a> operations will not see a deleted cell (row or column), even when the Get or Scan operation indicates a time range before the delete marker was placed.</p>
<p class="wrap-anywhere">ColumnFamilies can optionally keep deleted cells. In this case, deleted cells can still be retrieved, as long as these operations specify a time range that ends before the timestamp of any delete that would affect the cells. This allows for point-in-time queries even in the presence of deletes.</p>
<p class="wrap-anywhere">Deleted cells are still subject to TTL and there will never be more than &quot;maximum number of versions&quot; deleted cells. A new &quot;raw&quot; scan options returns all deleted rows and the delete markers.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="change-the-value-of-keep_deleted_cells-using-hbase-shell-toc"><a data-card="" href="#change-the-value-of-keep_deleted_cells-using-hbase-shell-toc" class="peer">Change the Value of <code>KEEP_DELETED_CELLS</code> Using HBase Shell:</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">hbas</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> alter</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;t1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;f1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> KEEP_DELETED_CELLS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> true</span></span></code></pre></div></figure>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="change-the-value-of-keep_deleted_cells-using-the-api-toc"><a data-card="" href="#change-the-value-of-keep_deleted_cells-using-the-api-toc" class="peer">Change the Value of <code>KEEP_DELETED_CELLS</code> Using the API:</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">HColumnDescriptor.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setKeepDeletedCells</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">...</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Let us illustrate the basic effect of setting the <code>KEEP_DELETED_CELLS</code> attribute on a table.</p>
<p class="wrap-anywhere">First, without:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">create</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;test&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> {NAME</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> VERSIONS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">2147483647}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;test&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;r1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;e:c1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;value&#x27;,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;test&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;r1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;e:c1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;value&#x27;,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 12</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">put</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;test&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;r1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;e:c1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;value&#x27;,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 14</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;test&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;r1&#x27;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;e:c1&#x27;,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  11</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):017:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=11,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> type=DeleteColumn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=10,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):018:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> flush </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0350</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):019:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=11,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> type=DeleteColumn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):020:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> major_compact </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0260</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):021:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                              column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span></code></pre></div></figure>
<p class="wrap-anywhere">Notice how delete cells are let go.</p>
<p class="wrap-anywhere">Now let&#x27;s run the same test only with <code>KEEP_DELETED_CELLS</code> set on the table (you can do table or per-column-family):</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):005:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> create </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e&#x27;,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">2147483647,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> KEEP_DELETED_CELLS</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.2160</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">Hbase::Table</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> test</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):006:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> put </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e:c1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;value&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, 10</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.1070</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):007:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> put </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e:c1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;value&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, 12</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0140</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):008:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> put </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e:c1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;value&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, 14</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0160</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):009:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> delete </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;r1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;e:c1&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,  11</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0290</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):010:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=11,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> type=DeleteColumn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=10,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0550</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):011:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> flush </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.2780</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):012:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=11,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> type=DeleteColumn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=10,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0620</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):013:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> major_compact </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0530</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">hbase(main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">):014:</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">0&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> scan </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">&#x27;test&#x27;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, {RAW</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">true,</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> VERSIONS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">1000</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ROW</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          COLUMN+CELL</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=14,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=12,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=11,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> type=DeleteColumn</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> r1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">                                                                                          column=e:c1,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> timestamp=10,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> value=value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">s</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">in</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 0.0650</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> seconds</span></span></code></pre></div></figure>
<p class="wrap-anywhere">KEEP<em>DELETED_CELLS is to avoid removing Cells from HBase when the _only</em> reason to remove them is the delete marker. So with KEEP_DELETED_CELLS enabled deleted cells would get removed if either you write more versions than the configured max, or you have a TTL and Cells are in excess of the configured timeout, etc.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="secondary-indexes-and-alternate-query-paths"><a data-card="" href="#secondary-indexes-and-alternate-query-paths" class="peer">Secondary Indexes and Alternate Query Paths</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">This section could also be titled &quot;what if my table rowkey looks like <em>this</em> but I also want to query my table like <em>that</em>.&quot; A common example on the dist-list is where a row-key is of the format &quot;user-timestamp&quot; but there are reporting requirements on activity across users for certain time ranges. Thus, selecting by user is easy because it is in the lead position of the key, but time is not.</p>
<p class="wrap-anywhere">There is no single answer on the best way to handle this because it depends on...</p>
<ul>
<li>Number of users</li>
<li>Data size and data arrival rate</li>
<li>Flexibility of reporting requirements (e.g., completely ad-hoc date selection vs. pre-configured ranges)</li>
<li>Desired execution speed of query (e.g., 90 seconds may be reasonable to some for an ad-hoc report, whereas it may be too long for others)</li>
</ul>
<p class="wrap-anywhere">and solutions are also influenced by the size of the cluster and how much processing power you have to throw at the solution. Common techniques are in sub-sections below. This is a comprehensive, but not exhaustive, list of approaches.</p>
<p class="wrap-anywhere">It should not be a surprise that secondary indexes require additional cluster space and processing. This is precisely what happens in an RDBMS because the act of creating an alternate index requires both space and processing cycles to update. RDBMS products are more advanced in this regard to handle alternative index management out of the box. However, HBase scales better at larger data volumes, so this is a feature trade-off.</p>
<p class="wrap-anywhere">Pay attention to <a href="/docs/performance" data-discover="true">Apache HBase Performance Tuning</a> when implementing any of these approaches.</p>
<p class="wrap-anywhere">Additionally, see the David Butler response in this dist-list thread <a href="https://lists.apache.org/thread.html/b0ca33407f010d5b1be67a20d1708e8d8bb1e147770f2cb7182a2e37%401300972712%40%3Cuser.hbase.apache.org%3E">HBase, mail # user - Stargate+hbase</a></p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="filter-query"><a data-card="" href="#filter-query" class="peer">Filter Query</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Depending on the case, it may be appropriate to use <a href="/docs/architecture/client-request-filters" data-discover="true">Client Request Filters</a>. In this case, no secondary index is created. However, don&#x27;t try a full-scan on a large table like this from an application (i.e., single-threaded client).</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="periodic-update-secondary-index"><a data-card="" href="#periodic-update-secondary-index" class="peer">Periodic-Update Secondary Index</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">A secondary index could be created in another table which is periodically updated via a MapReduce job. The job could be executed intra-day, but depending on load-strategy it could still potentially be out of sync with the main data table.</p>
<p class="wrap-anywhere">See <a href="/docs/mapreduce#hbase-mapreduce-read-example" data-discover="true">mapreduce.example.readwrite</a> for more information.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="dual-write-secondary-index"><a data-card="" href="#dual-write-secondary-index" class="peer">Dual-Write Secondary Index</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Another strategy is to build the secondary index while publishing data to the cluster (e.g., write to data table, write to index table). If this is approach is taken after a data table already exists, then bootstrapping will be needed for the secondary index with a MapReduce job (see <a href="/docs/regionserver-sizing#periodic-update-secondary-index" data-discover="true">secondary.indexes.periodic</a>).</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="summary-tables"><a data-card="" href="#summary-tables" class="peer">Summary Tables</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Where time-ranges are very wide (e.g., year-long report) and where the data is voluminous, summary tables are a common approach. These would be generated with MapReduce jobs into another table.</p>
<p class="wrap-anywhere">See <a href="/docs/mapreduce#hbase-mapreduce-summary-to-hbase-example" data-discover="true">mapreduce.example.summary</a> for more information.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="coprocessor-secondary-index"><a data-card="" href="#coprocessor-secondary-index" class="peer">Coprocessor Secondary Index</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Coprocessors act like RDBMS triggers. These were added in 0.92. For more information, see <a href="/docs/cp" data-discover="true">coprocessors</a></p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="regionserver-sizing-constraints"><a data-card="" href="#regionserver-sizing-constraints" class="peer">Constraints</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">HBase currently supports &#x27;constraints&#x27; in traditional (SQL) database parlance. The advised usage for Constraints is in enforcing business rules for attributes in the table (e.g. make sure values are in the range 1-10). Constraints could also be used to enforce referential integrity, but this is strongly discouraged as it will dramatically decrease the write throughput of the tables where integrity checking is enabled. Extensive documentation on using Constraints can be found at <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/constraint/Constraint.html">Constraint</a> since version 0.94.</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="schema-design-case-studies"><a data-card="" href="#schema-design-case-studies" class="peer">Schema Design Case Studies</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<p class="wrap-anywhere">The following will describe some typical data ingestion use-cases with HBase, and how the rowkey design and construction can be approached. Note: this is just an illustration of potential approaches, not an exhaustive list. Know your data, and know your processing requirements.</p>
<p class="wrap-anywhere">It is highly recommended that you read the rest of the <a href="/docs/schema-design" data-discover="true">HBase and Schema Design</a> first, before reading these case studies.</p>
<p class="wrap-anywhere">The following case studies are described:</p>
<ul>
<li>Log Data / Timeseries Data</li>
<li>Log Data / Timeseries on Steroids</li>
<li>Customer/Order</li>
<li>Tall/Wide/Middle Schema Design</li>
<li>List Data</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="case-study---log-data-and-timeseries-data"><a data-card="" href="#case-study---log-data-and-timeseries-data" class="peer">Case Study - Log Data and Timeseries Data</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Assume that the following data elements are being collected.</p>
<ul>
<li>Hostname</li>
<li>Timestamp</li>
<li>Log event</li>
<li>Value/message</li>
</ul>
<p class="wrap-anywhere">We can store them in an HBase table called LOG_DATA, but what will the rowkey be? From these attributes the rowkey will be some combination of hostname, timestamp, and log-event - but what specifically?</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="timestamp-in-the-rowkey-lead-position"><a data-card="" href="#timestamp-in-the-rowkey-lead-position" class="peer">Timestamp In The Rowkey Lead Position</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">The rowkey <code>[timestamp][hostname][log-event]</code> suffers from the monotonically increasing rowkey problem described in <a href="/docs/regionserver-sizing#monotonically-increasing-row-keystimeseries-data" data-discover="true">Monotonically Increasing Row Keys/Timeseries Data</a>.</p>
<p class="wrap-anywhere">There is another pattern frequently mentioned in the dist-lists about &quot;bucketing&quot; timestamps, by performing a mod operation on the timestamp. If time-oriented scans are important, this could be a useful approach. Attention must be paid to the number of buckets, because this will require the same number of scans to return results.</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">long</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> bucket </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> timestamp </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">%</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> numBuckets;</span></span></code></pre></div></figure>
<p class="wrap-anywhere">to construct:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>[bucket][timestamp][hostname][log-event]</span></span></code></pre></div></figure>
<p class="wrap-anywhere">As stated above, to select data for a particular timerange, a Scan will need to be performed for each bucket. 100 buckets, for example, will provide a wide distribution in the keyspace but it will require 100 Scans to obtain data for a single timestamp, so there are trade-offs.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="host-in-the-rowkey-lead-position"><a data-card="" href="#host-in-the-rowkey-lead-position" class="peer">Host In The Rowkey Lead Position</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">The rowkey <code>[hostname][log-event][timestamp]</code> is a candidate if there is a large-ish number of hosts to spread the writes and reads across the keyspace. This approach would be useful if scanning by hostname was a priority.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="timestamp-or-reverse-timestamp"><a data-card="" href="#timestamp-or-reverse-timestamp" class="peer">Timestamp, or Reverse Timestamp?</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">If the most important access path is to pull most recent events, then storing the timestamps as reverse-timestamps (e.g., <code>timestamp = Long.MAX_VALUE – timestamp</code>) will create the property of being able to do a Scan on <code>[hostname][log-event]</code> to obtain the most recently captured events.</p>
<p class="wrap-anywhere">Neither approach is wrong, it just depends on what is most appropriate for the situation.</p>
<div class="flex gap-2 my-4 rounded-xl border bg-fd-card p-3 ps-1 text-sm text-fd-card-foreground shadow-md" style="--callout-color:var(--color-fd-info, var(--color-fd-muted))"><div role="none" class="w-0.5 bg-(--callout-color)/50 rounded-sm"></div><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-5 -me-0.5 fill-(--callout-color) text-fd-card"><circle cx="12" cy="12" r="10"></circle><path d="M12 16v-4"></path><path d="M12 8h.01"></path></svg><div class="flex flex-col gap-2 min-w-0 flex-1"><div class="text-fd-muted-foreground prose-no-margin empty:hidden"><p class="wrap-anywhere"><a href="https://issues.apache.org/jira/browse/HBASE-4811">HBASE-4811</a> implements an API to scan a table
or a range within a table in reverse, reducing the need to optimize your schema for forward or
reverse scanning. This feature is available in HBase 0.98 and later. See
<a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Scan.html#setReversed(boolean)">Scan.setReversed()</a>
for more information.</p></div></div></div>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="variable-length-or-fixed-length-rowkeys"><a data-card="" href="#variable-length-or-fixed-length-rowkeys" class="peer">Variable Length or Fixed Length Rowkeys?</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">It is critical to remember that rowkeys are stamped on every column in HBase. If the hostname is <code>a</code> and the event type is <code>e1</code> then the resulting rowkey would be quite small. However, what if the ingested hostname is <code>myserver1.mycompany.com</code> and the event type is <code>com.package1.subpackage2.subsubpackage3.ImportantService</code>?</p>
<p class="wrap-anywhere">It might make sense to use some substitution in the rowkey. There are at least two approaches: hashed and numeric. In the Hostname In The Rowkey Lead Position example, it might look like this:</p>
<p class="wrap-anywhere">Composite Rowkey With Hashes:</p>
<ul>
<li>[MD5 hash of hostname] = 16 bytes</li>
<li>[MD5 hash of event-type] = 16 bytes</li>
<li>[timestamp] = 8 bytes</li>
</ul>
<p class="wrap-anywhere">Composite Rowkey With Numeric Substitution:</p>
<p class="wrap-anywhere">For this approach another lookup table would be needed in addition to LOG_DATA, called LOG_TYPES. The rowkey of LOG_TYPES would be:</p>
<ul>
<li><code>[type]</code> (e.g., byte indicating hostname vs. event-type)</li>
<li><code>[bytes]</code> variable length bytes for raw hostname or event-type.</li>
</ul>
<p class="wrap-anywhere">A column for this rowkey could be a long with an assigned number, which could be obtained by using an <a href="https://hbase.apache.org/devapidocs/org/apache/hadoop/hbase/client/Table.html#incrementColumnValue(byte%5B%5D,byte%5B%5D,byte%5B%5D,long)">HBase counter</a></p>
<p class="wrap-anywhere">So the resulting composite rowkey would be:</p>
<ul>
<li>[substituted long for hostname] = 8 bytes</li>
<li>[substituted long for event type] = 8 bytes</li>
<li>[timestamp] = 8 bytes</li>
</ul>
<p class="wrap-anywhere">In either the Hash or Numeric substitution approach, the raw values for hostname and event-type can be stored as columns.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="case-study---log-data-and-timeseries-data-on-steroids"><a data-card="" href="#case-study---log-data-and-timeseries-data-on-steroids" class="peer">Case Study - Log Data and Timeseries Data on Steroids</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">This effectively is the OpenTSDB approach. What OpenTSDB does is re-write data and pack rows into columns for certain time-periods. For a detailed explanation, see: <a href="http://opentsdb.net/schema.html">http://opentsdb.net/schema.html</a>, and <a href="https://www.slideshare.net/cloudera/4-opentsdb-hbasecon">Lessons Learned from OpenTSDB</a> from HBaseCon2012.</p>
<p class="wrap-anywhere">But this is how the general concept works: data is ingested, for example, in this manner...</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>[hostname][log-event][timestamp1]</span></span>
<span class="line"><span>[hostname][log-event][timestamp2]</span></span>
<span class="line"><span>[hostname][log-event][timestamp3]</span></span></code></pre></div></figure>
<p class="wrap-anywhere">with separate rowkeys for each detailed event, but is re-written like this...</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>[hostname][log-event][timerange]</span></span></code></pre></div></figure>
<p class="wrap-anywhere">and each of the above events are converted into columns stored with a time-offset relative to the beginning timerange (e.g., every 5 minutes). This is obviously a very advanced processing technique, but HBase makes this possible.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="case-study---customerorder"><a data-card="" href="#case-study---customerorder" class="peer">Case Study - Customer/Order</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Assume that HBase is used to store customer and order information. There are two core record-types being ingested: a Customer record type, and Order record type.</p>
<p class="wrap-anywhere">The Customer record type would include all the things that you&#x27;d typically expect:</p>
<ul>
<li>Customer number</li>
<li>Customer name</li>
<li>Address (e.g., city, state, zip)</li>
<li>Phone numbers, etc.</li>
</ul>
<p class="wrap-anywhere">The Order record type would include things like:</p>
<ul>
<li>Customer number</li>
<li>Order number</li>
<li>Sales date</li>
<li>A series of nested objects for shipping locations and line-items (see <a href="/docs/regionserver-sizing#order-object-design" data-discover="true">Order Object Design</a> for details)</li>
</ul>
<p class="wrap-anywhere">Assuming that the combination of customer number and sales order uniquely identify an order, these two attributes will compose the rowkey, and specifically a composite key such as:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>[customer number][order number]</span></span></code></pre></div></figure>
<p class="wrap-anywhere">for an ORDER table. However, there are more design decisions to make: are the <em>raw</em> values the best choices for rowkeys?</p>
<p class="wrap-anywhere">The same design questions in the Log Data use-case confront us here. What is the keyspace of the customer number, and what is the format (e.g., numeric? alphanumeric?) As it is advantageous to use fixed-length keys in HBase, as well as keys that can support a reasonable spread in the keyspace, similar options appear:</p>
<p class="wrap-anywhere">Composite Rowkey With Hashes:</p>
<ul>
<li>[MD5 of customer number] = 16 bytes</li>
<li>[MD5 of order number] = 16 bytes</li>
</ul>
<p class="wrap-anywhere">Composite Numeric/Hash Combo Rowkey:</p>
<ul>
<li>[substituted long for customer number] = 8 bytes</li>
<li>[MD5 of order number] = 16 bytes</li>
</ul>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="single-table-multiple-tables"><a data-card="" href="#single-table-multiple-tables" class="peer">Single Table? Multiple Tables?</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">A traditional design approach would have separate tables for CUSTOMER and SALES. Another option is to pack multiple record types into a single table (e.g., CUSTOMER++).</p>
<p class="wrap-anywhere">Customer Record Type Rowkey:</p>
<ul>
<li>[customer-id]</li>
<li>[type] = type indicating <code>1</code> for customer record type</li>
</ul>
<p class="wrap-anywhere">Order Record Type Rowkey:</p>
<ul>
<li>[customer-id]</li>
<li>[type] = type indicating <code>2</code> for order record type</li>
<li>[order]</li>
</ul>
<p class="wrap-anywhere">The advantage of this particular CUSTOMER++ approach is that organizes many different record-types by customer-id (e.g., a single scan could get you everything about that customer). The disadvantage is that it&#x27;s not as easy to scan for a particular record-type.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="order-object-design"><a data-card="" href="#order-object-design" class="peer">Order Object Design</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Now we need to address how to model the Order object. Assume that the class structure is as follows:</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="order-toc"><a data-card="" href="#order-toc" class="peer">Order</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">an Order can have multiple ShippingLocations</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="lineitem-toc"><a data-card="" href="#lineitem-toc" class="peer">LineItem</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">a ShippingLocation can have multiple LineItems</p>
<p class="wrap-anywhere">there are multiple options on storing this data.</p>
<h5 class="flex scroll-m-28 flex-row items-center gap-2" id="completely-normalized"><a data-card="" href="#completely-normalized" class="peer">Completely Normalized</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h5>
<p class="wrap-anywhere">With this approach, there would be separate tables for ORDER, SHIPPING_LOCATION, and LINE_ITEM.</p>
<p class="wrap-anywhere">The ORDER table&#x27;s rowkey was described above: <a href="/docs/regionserver-sizing#case-study---customerorder" data-discover="true">schema.casestudies.custorder</a></p>
<p class="wrap-anywhere">The SHIPPING_LOCATION&#x27;s composite rowkey would be something like this:</p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[shipping location number]</code> (e.g., 1st location, 2nd, etc.)</li>
</ul>
<p class="wrap-anywhere">The LINE_ITEM table&#x27;s composite rowkey would be something like this:</p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[shipping location number]</code> (e.g., 1st location, 2nd, etc.)</li>
<li><code>[line item number]</code> (e.g., 1st lineitem, 2nd, etc.)</li>
</ul>
<p class="wrap-anywhere">Such a normalized model is likely to be the approach with an RDBMS, but that&#x27;s not your only option with HBase. The cons of such an approach is that to retrieve information about any Order, you will need:</p>
<ul>
<li>Get on the ORDER table for the Order</li>
<li>Scan on the SHIPPING_LOCATION table for that order to get the ShippingLocation instances</li>
<li>Scan on the LINE_ITEM for each ShippingLocation</li>
</ul>
<p class="wrap-anywhere">granted, this is what an RDBMS would do under the covers anyway, but since there are no joins in HBase you&#x27;re just more aware of this fact.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="single-table-with-record-types"><a data-card="" href="#single-table-with-record-types" class="peer">Single Table With Record Types</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">With this approach, there would exist a single table ORDER that would contain</p>
<p class="wrap-anywhere">The Order rowkey was described above: <a href="/docs/regionserver-sizing#case-study---customerorder" data-discover="true">schema.casestudies.custorder</a></p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[ORDER record type]</code></li>
</ul>
<p class="wrap-anywhere">The ShippingLocation composite rowkey would be something like this:</p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[SHIPPING record type]</code></li>
<li><code>[shipping location number]</code> (e.g., 1st location, 2nd, etc.)</li>
</ul>
<p class="wrap-anywhere">The LineItem composite rowkey would be something like this:</p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[LINE record type]</code></li>
<li><code>[shipping location number]</code> (e.g., 1st location, 2nd, etc.)</li>
<li><code>[line item number]</code> (e.g., 1st lineitem, 2nd, etc.)</li>
</ul>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="denormalized"><a data-card="" href="#denormalized" class="peer">Denormalized</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">A variant of the Single Table With Record Types approach is to denormalize and flatten some of the object hierarchy, such as collapsing the ShippingLocation attributes onto each LineItem instance.</p>
<p class="wrap-anywhere">The LineItem composite rowkey would be something like this:</p>
<ul>
<li><code>[order-rowkey]</code></li>
<li><code>[LINE record type]</code></li>
<li><code>[line item number]</code> (e.g., 1st lineitem, 2nd, etc., care must be taken that there are unique across the entire order)</li>
</ul>
<p class="wrap-anywhere">and the LineItem columns would be something like this:</p>
<ul>
<li>itemNumber</li>
<li>quantity</li>
<li>price</li>
<li>shipToLine1 (denormalized from ShippingLocation)</li>
<li>shipToLine2 (denormalized from ShippingLocation)</li>
<li>shipToCity (denormalized from ShippingLocation)</li>
<li>shipToState (denormalized from ShippingLocation)</li>
<li>shipToZip (denormalized from ShippingLocation)</li>
</ul>
<p class="wrap-anywhere">The pros of this approach include a less complex object hierarchy, but one of the cons is that updating gets more complicated in case any of this information changes.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="object-blob"><a data-card="" href="#object-blob" class="peer">Object BLOB</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">With this approach, the entire Order object graph is treated, in one way or another, as a BLOB. For example, the ORDER table&#x27;s rowkey was described above: <a href="/docs/regionserver-sizing#case-study---customerorder" data-discover="true">schema.casestudies.custorder</a>, and a single column called &quot;order&quot; would contain an object that could be deserialized that contained a container Order, ShippingLocations, and LineItems.</p>
<p class="wrap-anywhere">There are many options here: JSON, XML, Java Serialization, Avro, Hadoop Writables, etc. All of them are variants of the same approach: encode the object graph to a byte-array. Care should be taken with this approach to ensure backward compatibility in case the object model changes such that older persisted structures can still be read back out of HBase.</p>
<p class="wrap-anywhere">Pros are being able to manage complex object graphs with minimal I/O (e.g., a single HBase Get per Order in this example), but the cons include the aforementioned warning about backward compatibility of serialization, language dependencies of serialization (e.g., Java Serialization only works with Java clients), the fact that you have to deserialize the entire object to get any piece of information inside the BLOB, and the difficulty in getting frameworks like Hive to work with custom objects like this.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="case-study---tallwidemiddle-schema-design-smackdown"><a data-card="" href="#case-study---tallwidemiddle-schema-design-smackdown" class="peer">Case Study - &quot;Tall/Wide/Middle&quot; Schema Design Smackdown</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">This section will describe additional schema design questions that appear on the dist-list, specifically about tall and wide tables. These are general guidelines and not laws - each application must consider its own needs.</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="rows-vs-versions"><a data-card="" href="#rows-vs-versions" class="peer">Rows vs. Versions</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">A common question is whether one should prefer rows or HBase&#x27;s built-in-versioning. The context is typically where there are &quot;a lot&quot; of versions of a row to be retained (e.g., where it is significantly above the HBase default of 1 max versions). The rows-approach would require storing a timestamp in some portion of the rowkey so that they would not overwrite with each successive update.</p>
<p class="wrap-anywhere">Preference: Rows (generally speaking).</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="rows-vs-columns"><a data-card="" href="#rows-vs-columns" class="peer">Rows vs. Columns</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">Another common question is whether one should prefer rows or columns. The context is typically in extreme cases of wide tables, such as having 1 row with 1 million attributes, or 1 million rows with 1 columns apiece.</p>
<p class="wrap-anywhere">Preference: Rows (generally speaking). To be clear, this guideline is in the context is in extremely wide cases, not in the standard use-case where one needs to store a few dozen or hundred columns. But there is also a middle path between these two options, and that is &quot;Rows as Columns.&quot;</p>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="rows-as-columns"><a data-card="" href="#rows-as-columns" class="peer">Rows as Columns</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<p class="wrap-anywhere">The middle path between Rows vs. Columns is packing data that would be a separate row into columns, for certain rows. OpenTSDB is the best example of this case where a single row represents a defined time-range, and then discrete events are treated as columns. This approach is often more complex, and may require the additional complexity of re-writing your data, but has the advantage of being I/O efficient. For an overview of this approach, see <a href="/docs/regionserver-sizing/#schema.casestudies.log_steroids" data-discover="true">schema.casestudies.log-steroids</a>.</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="case-study---list-data"><a data-card="" href="#case-study---list-data" class="peer">Case Study - List Data</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">The following is an exchange from the user dist-list regarding a fairly common question: how to handle per-user list data in Apache HBase.</p>
<ul>
<li>QUESTION *</li>
</ul>
<p class="wrap-anywhere">We&#x27;re looking at how to store a large amount of (per-user) list data in HBase, and we were trying to figure out what kind of access pattern made the most sense. One option is store the majority of the data in a key, so we could have something like:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>&lt;FixedWidthUserName&gt;&lt;FixedWidthValueId1&gt;:&quot;&quot; (no value)</span></span>
<span class="line"><span>&lt;FixedWidthUserName&gt;&lt;FixedWidthValueId2&gt;:&quot;&quot; (no value)</span></span>
<span class="line"><span>&lt;FixedWidthUserName&gt;&lt;FixedWidthValueId3&gt;:&quot;&quot; (no value)</span></span></code></pre></div></figure>
<p class="wrap-anywhere">The other option we had was to do this entirely using:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>&lt;FixedWidthUserName&gt;&lt;FixedWidthPageNum0&gt;:&lt;FixedWidthLength&gt;&lt;FixedIdNextPageNum&gt;&lt;ValueId1&gt;&lt;ValueId2&gt;&lt;ValueId3&gt;...</span></span>
<span class="line"><span>&lt;FixedWidthUserName&gt;&lt;FixedWidthPageNum1&gt;:&lt;FixedWidthLength&gt;&lt;FixedIdNextPageNum&gt;&lt;ValueId1&gt;&lt;ValueId2&gt;&lt;ValueId3&gt;...</span></span></code></pre></div></figure>
<p class="wrap-anywhere">where each row would contain multiple values. So in one case reading the first thirty values would be:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">scan</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> STARTROW</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;FixedWidthUsername&#x27;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> LIMIT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 30</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}</span></span></code></pre></div></figure>
<p class="wrap-anywhere">And in the second case it would be</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> &#x27;FixedWidthUserName\x00\x00\x00\x00&#x27;</span></span></code></pre></div></figure>
<p class="wrap-anywhere">The general usage pattern would be to read only the first 30 values of these lists, with infrequent access reading deeper into the lists. Some users would have ⇐ 30 total values in these lists, and some users would have millions (i.e. power-law distribution)</p>
<p class="wrap-anywhere">The single-value format seems like it would take up more space on HBase, but would offer some improved retrieval / pagination flexibility. Would there be any significant performance advantages to be able to paginate via gets vs paginating with scans?</p>
<p class="wrap-anywhere">My initial understanding was that doing a scan should be faster if our paging size is unknown (and caching is set appropriately), but that gets should be faster if we&#x27;ll always need the same page size. I&#x27;ve ended up hearing different people tell me opposite things about performance. I assume the page sizes would be relatively consistent, so for most use cases we could guarantee that we only wanted one page of data in the fixed-page-length case. I would also assume that we would have infrequent updates, but may have inserts into the middle of these lists (meaning we&#x27;d need to update all subsequent rows).</p>
<p class="wrap-anywhere">Thanks for help / suggestions / follow-up questions.</p>
<ul>
<li>ANSWER *</li>
</ul>
<p class="wrap-anywhere">If I understand you correctly, you&#x27;re ultimately trying to store triples in the form &quot;user, valueid, value&quot;, right? E.g., something like:</p>
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>&quot;user123, firstname, Paul&quot;,</span></span>
<span class="line"><span>&quot;user234, lastname, Smith&quot;</span></span></code></pre></div></figure>
<p class="wrap-anywhere">(But the usernames are fixed width, and the valueids are fixed width).</p>
<p class="wrap-anywhere">And, your access pattern is along the lines of: &quot;for user X, list the next 30 values, starting with valueid Y&quot;. Is that right? And these values should be returned sorted by valueid?</p>
<p class="wrap-anywhere">The tl;dr version is that you should probably go with one row per user+value, and not build a complicated intra-row pagination scheme on your own unless you&#x27;re really sure it is needed.</p>
<p class="wrap-anywhere">Your two options mirror a common question people have when designing HBase schemas: should I go &quot;tall&quot; or &quot;wide&quot;? Your first schema is &quot;tall&quot;: each row represents one value for one user, and so there are many rows in the table for each user; the row key is user + valueid, and there would be (presumably) a single column qualifier that means &quot;the value&quot;. This is great if you want to scan over rows in sorted order by row key (thus my question above, about whether these ids are sorted correctly). You can start a scan at any user+valueid, read the next 30, and be done. What you&#x27;re giving up is the ability to have transactional guarantees around all the rows for one user, but it doesn&#x27;t sound like you need that. Doing it this way is generally recommended (see <a href="/docs/regionserver-sizing#case-study---tallwidemiddle-schema-design-smackdown" data-discover="true">here</a>).</p>
<p class="wrap-anywhere">Your second option is &quot;wide&quot;: you store a bunch of values in one row, using different qualifiers (where the qualifier is the valueid). The simple way to do that would be to just store ALL values for one user in a single row. I&#x27;m guessing you jumped to the &quot;paginated&quot; version because you&#x27;re assuming that storing millions of columns in a single row would be bad for performance, which may or may not be true; as long as you&#x27;re not trying to do too much in a single request, or do things like scanning over and returning all of the cells in the row, it shouldn&#x27;t be fundamentally worse. The client has methods that allow you to get specific slices of columns.</p>
<p class="wrap-anywhere">Note that neither case fundamentally uses more disk space than the other; you&#x27;re just &quot;shifting&quot; part of the identifying information for a value either to the left (into the row key, in option one) or to the right (into the column qualifiers in option 2). Under the covers, every key/value still stores the whole row key, and column family name. (If this is a bit confusing, take an hour and watch Lars George&#x27;s excellent video about understanding HBase schema design: <a href="http://www.youtube.com/watch?v=_HLoH_PgrLk">http://www.youtube.com/watch?v=_HLoH_PgrLk</a>).</p>
<p class="wrap-anywhere">A manually paginated version has lots more complexities, as you note, like having to keep track of how many things are in each page, re-shuffling if new values are inserted, etc. That seems significantly more complex. It might have some slight speed advantages (or disadvantages!) at extremely high throughput, and the only way to really know that would be to try it out. If you don&#x27;t have time to build it both ways and compare, my advice would be to start with the simplest option (one row per user+value). Start simple and iterate! :)</p>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="operational-and-performance-configuration-options"><a data-card="" href="#operational-and-performance-configuration-options" class="peer">Operational and Performance Configuration Options</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="tune-hbase-server-rpc-handling"><a data-card="" href="#tune-hbase-server-rpc-handling" class="peer">Tune HBase Server RPC Handling</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<ul>
<li>Set <code>hbase.regionserver.handler.count</code> (in <code>hbase-site.xml</code>) to cores x spindles for concurrency.</li>
<li>Optionally, split the call queues into separate read and write queues for differentiated service. The parameter <code>hbase.ipc.server.callqueue.handler.factor</code> specifies the number of call queues:<!-- -->
<ul>
<li><code>0</code> means a single shared queue</li>
<li><code>1</code> means one queue for each handler.</li>
<li>A value between <code>0</code> and <code>1</code> allocates the number of queues proportionally to the number of handlers. For instance, a value of <code>.5</code> shares one queue between each two handlers.</li>
</ul>
</li>
<li>Use <code>hbase.ipc.server.callqueue.read.ratio</code> (<code>hbase.ipc.server.callqueue.read.share</code> in 0.98) to split the call queues into read and write queues:<!-- -->
<ul>
<li><code>0.5</code> means there will be the same number of read and write queues</li>
<li><code>&lt; 0.5</code> for more write than read</li>
<li><code>&gt; 0.5</code> for more read than write</li>
</ul>
</li>
<li>Set <code>hbase.ipc.server.callqueue.scan.ratio</code> (HBase 1.0+) to split read call queues into small-read and long-read queues:<!-- -->
<ul>
<li>0.5 means that there will be the same number of short-read and long-read queues</li>
<li><code>&lt; 0.5</code> for more short-read</li>
<li><code>&gt; 0.5</code> for more long-read</li>
</ul>
</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="disable-nagle-for-rpc"><a data-card="" href="#disable-nagle-for-rpc" class="peer">Disable Nagle for RPC</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Disable Nagle&#x27;s algorithm. Delayed ACKs can add up to ~200ms to RPC round trip time. Set the following parameters:</p>
<ul>
<li>In Hadoop&#x27;s <code>core-site.xml</code>:<!-- -->
<ul>
<li><code>ipc.server.tcpnodelay = true</code></li>
<li><code>ipc.client.tcpnodelay = true</code></li>
</ul>
</li>
<li>In HBase&#x27;s <code>hbase-site.xml</code>:<!-- -->
<ul>
<li><code>hbase.ipc.client.tcpnodelay = true</code></li>
<li><code>hbase.ipc.server.tcpnodelay = true</code></li>
</ul>
</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="limit-server-failure-impact"><a data-card="" href="#limit-server-failure-impact" class="peer">Limit Server Failure Impact</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Detect regionserver failure as fast as reasonable. Set the following parameters:</p>
<ul>
<li>In <code>hbase-site.xml</code>, set <code>zookeeper.session.timeout</code> to 30 seconds or less to bound failure detection (20-30 seconds is a good start).<!-- -->
<ul>
<li>Note: Zookeeper clients negotiate a session timeout with the server during client init. Server enforces this timeout to be in the range [<code>minSessionTimeout</code>, <code>maxSessionTimeout</code>] and both these timeouts (measured in milliseconds) are configurable in Zookeeper service configuration. If not configured, these default to 2 * <code>tickTime</code> and 20 * <code>tickTime</code> respectively (<code>tickTime</code> is the basic time unit used by ZooKeeper, as measured in milliseconds. It is used to regulate heartbeats, timeouts etc.). Refer to Zookeeper documentation for additional details.</li>
</ul>
</li>
<li>Detect and avoid unhealthy or failed HDFS DataNodes: in <code>hdfs-site.xml</code> and <code>hbase-site.xml</code>, set the following parameters:<!-- -->
<ul>
<li><code>dfs.namenode.avoid.read.stale.datanode = true</code></li>
<li><code>dfs.namenode.avoid.write.stale.datanode = true</code></li>
</ul>
</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="optimize-on-the-server-side-for-low-latency"><a data-card="" href="#optimize-on-the-server-side-for-low-latency" class="peer">Optimize on the Server Side for Low Latency</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">Skip the network for local blocks when the RegionServer goes to read from HDFS by exploiting HDFS&#x27;s <a href="https://hadoop.apache.org/docs/stable/hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short-Circuit Local Reads</a> facility. Note how setup must be done both at the datanode and on the dfsclient ends of the conneciton — i.e. at the RegionServer and how both ends need to have loaded the hadoop native <code>.so</code> library. After configuring your hadoop setting <em>dfs.client.read.shortcircuit</em> to <em>true</em> and configuring the <em>dfs.domain.socket.path</em> path for the datanode and dfsclient to share and restarting, next configure the regionserver/dfsclient side.</p>
<ul>
<li>In <code>hbase-site.xml</code>, set the following parameters:<!-- -->
<ul>
<li><code>dfs.client.read.shortcircuit = true</code></li>
<li><code>dfs.client.read.shortcircuit.skip.checksum = true</code> so we don&#x27;t double checksum (HBase does its own checksumming to save on i/os).</li>
<li><code>dfs.domain.socket.path</code> to match what was set for the datanodes.</li>
<li><code>dfs.client.read.shortcircuit.buffer.size = 131072</code> Important to avoid OOME — hbase has a default it uses if unset, see <code>hbase.dfs.client.read.shortcircuit.buffer.size</code>; its default is 131072.</li>
</ul>
</li>
<li>Ensure data locality. In <code>hbase-site.xml</code>, set <code>hbase.hstore.min.locality.to.skip.major.compact = 0.7</code> (Meaning that 0.7 &lt;= n &lt;= 1)</li>
<li>Make sure DataNodes have enough handlers for block transfers. In <code>hdfs-site.xml</code>, set the following parameters:<!-- -->
<ul>
<li><code>dfs.datanode.max.xcievers &gt;= 8192</code></li>
<li><code>dfs.datanode.handler.count =</code> number of spindles</li>
</ul>
</li>
</ul>
<p class="wrap-anywhere">Check the RegionServer logs after restart. You should only see complaint if misconfiguration. Otherwise, shortcircuit read operates quietly in background. It does not provide metrics so no optics on how effective it is but read latencies should show a marked improvement, especially if good data locality, lots of random reads, and dataset is larger than available cache.</p>
<p class="wrap-anywhere">Other advanced configurations that you might play with, especially if shortcircuit functionality is complaining in the logs, include <code>dfs.client.read.shortcircuit.streams.cache.size</code> and <code>dfs.client.socketcache.capacity</code>. Documentation is sparse on these options. You&#x27;ll have to read source code.</p>
<p class="wrap-anywhere">RegionServer metric system exposes HDFS short circuit read metrics <code>shortCircuitBytesRead</code>. Other HDFS read metrics, including <code>totalBytesRead</code> (The total number of bytes read from HDFS), <code>localBytesRead</code> (The number of bytes read from the local HDFS DataNode), <code>zeroCopyBytesRead</code> (The number of bytes read through HDFS zero copy) are available and can be used to troubleshoot short-circuit read issues.</p>
<p class="wrap-anywhere">For more on short-circuit reads, see Colin&#x27;s old blog on rollout, <a href="http://blog.cloudera.com/blog/2013/08/how-improved-short-circuit-local-reads-bring-better-performance-and-security-to-hadoop/">How Improved Short-Circuit Local Reads Bring Better Performance and Security to Hadoop</a>. The <a href="https://issues.apache.org/jira/browse/HDFS-347">HDFS-347</a> issue also makes for an interesting read showing the HDFS community at its best (caveat a few comments).</p>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="jvm-tuning"><a data-card="" href="#jvm-tuning" class="peer">JVM Tuning</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="tune-jvm-gc-for-low-collection-latencies"><a data-card="" href="#tune-jvm-gc-for-low-collection-latencies" class="peer">Tune JVM GC for low collection latencies</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<ul>
<li>Use the CMS collector: <code>-XX:+UseConcMarkSweepGC</code></li>
<li>Keep eden space as small as possible to minimize average collection time. Example:<!-- -->
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span>-XX:CMSInitiatingOccupancyFraction=70</span></span></code></pre></div></figure>
</li>
<li>Optimize for low collection latency rather than throughput: <code>-Xmn512m</code></li>
<li>Collect eden in parallel: <code>-XX:+UseParNewGC</code></li>
<li>Avoid collection under pressure: <code>-XX:+UseCMSInitiatingOccupancyOnly</code></li>
<li>Limit per request scanner result sizing so everything fits into survivor space but doesn&#x27;t tenure. In <code>hbase-site.xml</code>, set <code>hbase.client.scanner.max.result.size</code> to 1/8th of eden space (with -<code>Xmn512m</code> this is ~51MB )</li>
<li>Set <code>max.result.size</code> x <code>handler.count</code> less than survivor space</li>
</ul>
<h4 class="flex scroll-m-28 flex-row items-center gap-2" id="os-level-tuning"><a data-card="" href="#os-level-tuning" class="peer">OS-Level Tuning</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h4>
<ul>
<li>Turn transparent huge pages (THP) off:<!-- -->
<figure dir="ltr" class="my-4 bg-fd-card rounded-xl shiki relative border shadow-sm not-prose overflow-hidden text-sm shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="-1"><div class="empty:hidden absolute top-2 right-2 z-2 backdrop-blur-lg rounded-lg text-fd-muted-foreground"><button type="button" class="inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors duration-100 disabled:pointer-events-none disabled:opacity-50 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-fd-ring p-1 [&amp;_svg]:size-4 hover:text-fd-accent-foreground data-checked:text-fd-accent-foreground" aria-label="Copy Text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide"><rect width="8" height="4" x="8" y="2" rx="1" ry="1"></rect><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path></svg></button></div><div role="region" tabindex="0" class="text-[13px] py-3.5 overflow-auto max-h-[600px] fd-scroll-container focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-fd-ring" style="--padding-right:calc(var(--spacing) * 8)"><pre class="min-w-full w-max *:flex *:flex-col"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> never</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> /sys/kernel/mm/transparent_hugepage/enabled</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> never</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> /sys/kernel/mm/transparent_hugepage/defrag</span></span></code></pre></div></figure>
</li>
<li>Set <code>vm.swappiness = 0</code></li>
<li>Set <code>vm.min_free_kbytes</code> to at least 1GB (8GB on larger memory systems)</li>
<li>Disable NUMA zone reclaim with <code>vm.zone_reclaim_mode = 0</code></li>
</ul>
<h2 class="flex scroll-m-28 flex-row items-center gap-2" id="special-cases"><a data-card="" href="#special-cases" class="peer">Special Cases</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h2>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="for-applications-where-failing-quickly-is-better-than-waiting"><a data-card="" href="#for-applications-where-failing-quickly-is-better-than-waiting" class="peer">For applications where failing quickly is better than waiting</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<ul>
<li>In <code>hbase-site.xml</code> on the client side, set the following parameters:<!-- -->
<ul>
<li>Set <code>hbase.client.pause = 1000</code></li>
<li>Set <code>hbase.client.retries.number = 3</code></li>
<li>If you want to ride over splits and region moves, increase <code>hbase.client.retries.number</code> substantially (&gt;= 20)</li>
<li>Set the RecoverableZookeeper retry count: <code>zookeeper.recovery.retry = 1</code> (no retry)</li>
</ul>
</li>
<li>In <code>hbase-site.xml</code> on the server side, set the Zookeeper session timeout for detecting server failures: <code>zookeeper.session.timeout</code> ⇐ 30 seconds (20-30 is good).</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="for-applications-that-can-tolerate-slightly-out-of-date-information"><a data-card="" href="#for-applications-that-can-tolerate-slightly-out-of-date-information" class="peer">For applications that can tolerate slightly out of date information</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere"><strong>HBase timeline consistency (HBASE-10070)</strong> With read replicas enabled, read-only copies of regions (replicas) are distributed over the cluster. One RegionServer services the default or primary replica, which is the only replica that can service writes. Other RegionServers serve the secondary replicas, follow the primary RegionServer, and only see committed updates. The secondary replicas are read-only, but can serve reads immediately while the primary is failing over, cutting read availability blips from seconds to milliseconds. Phoenix supports timeline consistency as of 4.4.0 Tips:</p>
<ul>
<li>Deploy HBase 1.0.0 or later.</li>
<li>Enable timeline consistent replicas on the server side.</li>
<li>Use one of the following methods to set timeline consistency:<!-- -->
<ul>
<li>Use <code>ALTER SESSION SET CONSISTENCY = &#x27;TIMELINE&#x27;</code></li>
<li>Set the connection property <code>Consistency</code> to <code>timeline</code> in the JDBC connect string</li>
</ul>
</li>
</ul>
<h3 class="flex scroll-m-28 flex-row items-center gap-2" id="more-information"><a data-card="" href="#more-information" class="peer">More Information</a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100" aria-hidden="true"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></h3>
<p class="wrap-anywhere">See the Performance section <a href="/docs/case-studies#case-studies-schema-design" data-discover="true">perf.schema</a> for more information about operational and performance schema design options, such as Bloom Filters, Table-configured regionsizes, compression, and blocksizes.</p></div><a href="https://github.com/apache/hbase/hbase-website/app/pages/_docs/docs/_mdx/(multi-page)/regionserver-sizing.mdx" rel="noreferrer noopener" target="_blank" class="text-fd-secondary-foreground bg-fd-secondary hover:text-fd-accent-foreground hover:bg-fd-accent w-fit rounded-xl border p-2 text-sm font-medium transition-colors">Edit on GitHub</a><div class="@container grid gap-4 grid-cols-2"><a class="hover:bg-fd-accent/80 hover:text-fd-accent-foreground flex flex-col gap-2 rounded-lg border p-4 text-sm transition-colors @max-lg:col-span-full" href="/docs/schema-design" data-discover="true"><div class="inline-flex items-center gap-1.5 font-medium"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left -mx-1 size-4 shrink-0 rtl:rotate-180"><path d="m15 18-6-6 6-6"></path></svg><p>HBase and Schema Design</p></div><p class="text-fd-muted-foreground truncate">Comprehensive guide to designing HBase schemas, including table and column family design, rowkey strategies, and best practices for optimal performance.</p></a><a class="hover:bg-fd-accent/80 hover:text-fd-accent-foreground flex flex-col gap-2 rounded-lg border p-4 text-sm transition-colors @max-lg:col-span-full text-end" href="/docs/mapreduce" data-discover="true"><div class="inline-flex items-center gap-1.5 font-medium flex-row-reverse"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right -mx-1 size-4 shrink-0 rtl:rotate-180"><path d="m9 18 6-6-6-6"></path></svg><p>HBase and MapReduce</p></div><p class="text-fd-muted-foreground truncate">Guide to using Apache HBase with MapReduce including configuration, examples, and best practices.</p></a></div></article><div id="nd-toc" class="sticky top-(--fd-docs-row-1) flex h-[calc(var(--fd-docs-height)-var(--fd-docs-row-1))] w-(--fd-toc-width) flex-col justify-self-end pe-4 pt-12 pb-2 [grid-area:toc] max-xl:hidden"><h3 id="toc-title" class="text-fd-muted-foreground inline-flex items-center gap-1.5 text-sm"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-text size-4"><path d="M17 6.1H3"></path><path d="M21 12.1H3"></path><path d="M15.1 18H3"></path></svg>On this page</h3><div class="relative ms-px min-h-0 overflow-auto mask-[linear-gradient(to_bottom,transparent,white_16px,white_calc(100%-16px),transparent)] py-3 text-sm [scrollbar-width:none]"><div class="flex flex-col"><a data-active="false" href="#on-the-number-of-column-families" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:0"></div>On the number of column families</a><a data-active="false" href="#cardinality-of-columnfamilies" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:10px"></div>Cardinality of ColumnFamilies</a><a data-active="false" href="#rowkey-design" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:0"></div>Rowkey Design</a><a data-active="false" href="#hotspotting" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>Hotspotting</a><a data-active="false" href="#monotonically-increasing-row-keystimeseries-data" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Monotonically Increasing Row Keys/Timeseries Data</a><a data-active="false" href="#try-to-minimize-row-and-column-sizes" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Try to minimize row and column sizes</a><a data-active="false" href="#column-families" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Column Families</a><a data-active="false" href="#attributes" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Attributes</a><a data-active="false" href="#rowkey-length" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Rowkey Length</a><a data-active="false" href="#byte-patterns" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Byte Patterns</a><a data-active="false" href="#reverse-timestamps" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Reverse Timestamps</a><a data-active="false" href="#rowkeys-and-columnfamilies" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Rowkeys and ColumnFamilies</a><a data-active="false" href="#immutability-of-rowkeys" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Immutability of Rowkeys</a><a data-active="false" href="#relationship-between-rowkeys-and-region-splits" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:10px"></div>Relationship Between RowKeys and Region Splits</a><a data-active="false" href="#number-of-versions" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:0"></div>Number of Versions</a><a data-active="false" href="#maximum-number-of-versions" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>Maximum Number of Versions</a><a data-active="false" href="#minimum-number-of-versions" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:10px"></div>Minimum Number of Versions</a><a data-active="false" href="#supported-datatypes" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:0"></div>Supported Datatypes</a><a data-active="false" href="#counters" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:10px"></div>Counters</a><a data-active="false" href="#regionserver-sizing-joins" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:0"></div>Joins</a><a data-active="false" href="#time-to-live-ttl" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:0"></div>Time To Live (TTL)</a><a data-active="false" href="#keeping-deleted-cells" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:0"></div>Keeping Deleted Cells</a><a data-active="false" href="#secondary-indexes-and-alternate-query-paths" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:0"></div>Secondary Indexes and Alternate Query Paths</a><a data-active="false" href="#filter-query" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>Filter Query</a><a data-active="false" href="#periodic-update-secondary-index" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Periodic-Update Secondary Index</a><a data-active="false" href="#dual-write-secondary-index" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Dual-Write Secondary Index</a><a data-active="false" href="#summary-tables" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Summary Tables</a><a data-active="false" href="#coprocessor-secondary-index" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:10px"></div>Coprocessor Secondary Index</a><a data-active="false" href="#regionserver-sizing-constraints" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:0"></div>Constraints</a><a data-active="false" href="#schema-design-case-studies" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:0"></div>Schema Design Case Studies</a><a data-active="false" href="#case-study---log-data-and-timeseries-data" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>Case Study - Log Data and Timeseries Data</a><a data-active="false" href="#timestamp-in-the-rowkey-lead-position" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Timestamp In The Rowkey Lead Position</a><a data-active="false" href="#host-in-the-rowkey-lead-position" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Host In The Rowkey Lead Position</a><a data-active="false" href="#timestamp-or-reverse-timestamp" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Timestamp, or Reverse Timestamp?</a><a data-active="false" href="#variable-length-or-fixed-length-rowkeys" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Variable Length or Fixed Length Rowkeys?</a><a data-active="false" href="#case-study---log-data-and-timeseries-data-on-steroids" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Case Study - Log Data and Timeseries Data on Steroids</a><a data-active="false" href="#case-study---customerorder" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Case Study - Customer/Order</a><a data-active="false" href="#single-table-multiple-tables" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Single Table? Multiple Tables?</a><a data-active="false" href="#order-object-design" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Order Object Design</a><a data-active="false" href="#completely-normalized" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Completely Normalized</a><a data-active="false" href="#single-table-with-record-types" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Single Table With Record Types</a><a data-active="false" href="#denormalized" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Denormalized</a><a data-active="false" href="#object-blob" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Object BLOB</a><a data-active="false" href="#case-study---tallwidemiddle-schema-design-smackdown" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Case Study - &quot;Tall/Wide/Middle&quot; Schema Design Smackdown</a><a data-active="false" href="#rows-vs-versions" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Rows vs. Versions</a><a data-active="false" href="#rows-vs-columns" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Rows vs. Columns</a><a data-active="false" href="#rows-as-columns" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Rows as Columns</a><a data-active="false" href="#case-study---list-data" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:10px"></div>Case Study - List Data</a><a data-active="false" href="#operational-and-performance-configuration-options" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:0"></div>Operational and Performance Configuration Options</a><a data-active="false" href="#tune-hbase-server-rpc-handling" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>Tune HBase Server RPC Handling</a><a data-active="false" href="#disable-nagle-for-rpc" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Disable Nagle for RPC</a><a data-active="false" href="#limit-server-failure-impact" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Limit Server Failure Impact</a><a data-active="false" href="#optimize-on-the-server-side-for-low-latency" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Optimize on the Server Side for Low Latency</a><a data-active="false" href="#jvm-tuning" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>JVM Tuning</a><a data-active="false" href="#tune-jvm-gc-for-low-collection-latencies" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>Tune JVM GC for low collection latencies</a><a data-active="false" href="#os-level-tuning" style="padding-inline-start:36px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px bottom-1.5" style="inset-inline-start:10px"></div>OS-Level Tuning</a><a data-active="false" href="#special-cases" style="padding-inline-start:14px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="10" y1="0" x2="0" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5 bottom-1.5" style="inset-inline-start:0"></div>Special Cases</a><a data-active="false" href="#for-applications-where-failing-quickly-is-better-than-waiting" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" class="absolute start-0 -top-1.5 size-4 rtl:-scale-x-100"><line x1="0" y1="0" x2="10" y2="12" class="stroke-fd-foreground/10" stroke-width="1"></line></svg><div class="bg-fd-foreground/10 absolute inset-y-0 w-px top-1.5" style="inset-inline-start:10px"></div>For applications where failing quickly is better than waiting</a><a data-active="false" href="#for-applications-that-can-tolerate-slightly-out-of-date-information" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>For applications that can tolerate slightly out of date information</a><a data-active="false" href="#more-information" style="padding-inline-start:26px" class="prose text-fd-muted-foreground hover:text-fd-accent-foreground data-[active=true]:text-fd-primary relative py-1.5 text-sm wrap-anywhere transition-colors first:pt-0 last:pb-0"><div class="bg-fd-foreground/10 absolute inset-y-0 w-px" style="inset-inline-start:10px"></div>More Information</a></div></div></div></div><script>((storageKey2, restoreKey) => {
    if (!window.history.state || !window.history.state.key) {
      let key = Math.random().toString(32).slice(2);
      window.history.replaceState({ key }, "");
    }
    try {
      let positions = JSON.parse(sessionStorage.getItem(storageKey2) || "{}");
      let storedY = positions[restoreKey || window.history.state.key];
      if (typeof storedY === "number") {
        window.scrollTo(0, storedY);
      }
    } catch (error) {
      console.error(error);
      sessionStorage.removeItem(storageKey2);
    }
  })("react-router-scroll-positions", null)</script><script>window.__reactRouterContext = {"basename":"/","future":{"v8_middleware":false,"unstable_optimizeDeps":false,"unstable_splitRouteModules":false,"unstable_subResourceIntegrity":false,"unstable_viteEnvironmentApi":false},"routeDiscovery":{"mode":"initial"},"ssr":false,"isSpaMode":false};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());</script><script type="module" async="">import "/assets/manifest-7dafdd91.js";
import * as route0 from "/assets/root-DujOAN-D.js";
import * as route1 from "/assets/docs-layout-B8UoaNQ7.js";
import * as route2 from "/assets/docs-yXJJewLr.js";
  
  window.__reactRouterRouteModules = {"root":route0,"pages/_docs/docs-layout":route1,"routes/_docs/docs":route2};

import("/assets/entry.client-Io3msCv5.js");</script><!--$--><script>window.__reactRouterContext.streamController.enqueue("[{\"_1\":2,\"_722\":-5,\"_723\":-5},\"loaderData\",{\"_3\":4},\"routes/_docs/docs\",{\"_5\":6,\"_7\":8,\"_9\":10},\"path\",\"(multi-page)/regionserver-sizing.mdx\",\"url\",\"/docs/regionserver-sizing\",\"tree\",{\"_11\":12,\"_13\":14,\"_15\":16},\"$id\",\"root\",\"name\",\"Docs\",\"children\",[17,709],{\"_18\":19,\"_13\":20,\"_21\":-7,\"_12\":22,\"_23\":-7,\"_24\":25,\"_26\":-7,\"_15\":27,\"_11\":706,\"_38\":707},\"type\",\"folder\",\"Multi-Page Documentation\",\"icon\",true,\"defaultOpen\",\"description\",\"Split across multiple pages\",\"index\",[28,32,41,46,49,103,138,144,147,153,159,163,169,222,305,308,314,320,354,360,363,369,375,381,387,393,396,402,408,414,420,423,482,559,565,568,574,580,586,589,595,601,607,613,619,625,628,634,640,646,652,658,664,670,676,682,688,694,700],{\"_11\":29,\"_18\":30,\"_21\":-7,\"_13\":31},\"(multi-page)#0\",\"separator\",\"Getting Started\",{\"_11\":33,\"_18\":34,\"_13\":35,\"_24\":36,\"_21\":-7,\"_7\":37,\"_38\":39},\"(multi-page)/index.mdx\",\"page\",\"Preface\",\"This is the official reference guide for the HBase version it ships with.\",\"/docs\",\"$ref\",{\"_40\":33},\"file\",{\"_11\":42,\"_18\":34,\"_13\":31,\"_24\":43,\"_21\":-7,\"_7\":44,\"_38\":45},\"(multi-page)/getting-started.mdx\",\"Quick start to get you up and run a single-node, standalone instance of HBase.\",\"/docs/getting-started\",{\"_40\":42},{\"_11\":47,\"_18\":30,\"_21\":-7,\"_13\":48},\"(multi-page)#3\",\"Configuration \u0026 Setup\",{\"_18\":19,\"_13\":50,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":51,\"_15\":56,\"_11\":99,\"_38\":100},\"Configuration\",{\"_11\":52,\"_18\":34,\"_13\":50,\"_24\":53,\"_21\":-7,\"_7\":54,\"_38\":55},\"(multi-page)/configuration/index.mdx\",\"Complete guide to HBase configuration including all settings, tuning parameters, and best practices.\",\"/docs/configuration\",{\"_40\":52},[57,63,69,75,81,87,93],{\"_11\":58,\"_18\":34,\"_13\":59,\"_24\":60,\"_21\":-7,\"_7\":61,\"_38\":62},\"(multi-page)/configuration/basic-prerequisites.mdx\",\"Basic Prerequisites\",\"This section lists required services and some required system configuration.\",\"/docs/configuration/basic-prerequisites\",{\"_40\":58},{\"_11\":64,\"_18\":34,\"_13\":65,\"_24\":66,\"_21\":-7,\"_7\":67,\"_38\":68},\"(multi-page)/configuration/hbase-run-models.mdx\",\"HBase run modes: Standalone and Distributed\",\"Understanding HBase deployment modes: standalone mode for development and distributed mode for production clusters.\",\"/docs/configuration/hbase-run-models\",{\"_40\":64},{\"_11\":70,\"_18\":34,\"_13\":71,\"_24\":72,\"_21\":-7,\"_7\":73,\"_38\":74},\"(multi-page)/configuration/confirm.mdx\",\"Running and Confirming Your Installation\",\"Steps to start HBase services and verify your installation is working correctly.\",\"/docs/configuration/confirm\",{\"_40\":70},{\"_11\":76,\"_18\":34,\"_13\":77,\"_24\":78,\"_21\":-7,\"_7\":79,\"_38\":80},\"(multi-page)/configuration/default.mdx\",\"Default Configuration\",\"HBase default configuration properties and how to customize them via hbase-site.xml for site-specific settings.\",\"/docs/configuration/default\",{\"_40\":76},{\"_11\":82,\"_18\":34,\"_13\":83,\"_24\":84,\"_21\":-7,\"_7\":85,\"_38\":86},\"(multi-page)/configuration/example.mdx\",\"Example Configurations\",\"Sample configuration files and setup examples for distributed HBase clusters.\",\"/docs/configuration/example\",{\"_40\":82},{\"_11\":88,\"_18\":34,\"_13\":89,\"_24\":90,\"_21\":-7,\"_7\":91,\"_38\":92},\"(multi-page)/configuration/important.mdx\",\"The Important Configurations\",\"Critical HBase configurations divided into required settings and recommended optimizations for production clusters.\",\"/docs/configuration/important\",{\"_40\":88},{\"_11\":94,\"_18\":34,\"_13\":95,\"_24\":96,\"_21\":-7,\"_7\":97,\"_38\":98},\"(multi-page)/configuration/dynamic.mdx\",\"Dynamic Configuration\",\"How to change HBase configuration properties dynamically without server restart using update_config commands.\",\"/docs/configuration/dynamic\",{\"_40\":94},\"(multi-page)/configuration\",{\"_101\":102},\"metaFile\",\"(multi-page)/configuration/meta.json\",{\"_18\":19,\"_13\":104,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":105,\"_15\":110,\"_11\":135,\"_38\":136},\"Upgrading\",{\"_11\":106,\"_18\":34,\"_13\":104,\"_24\":107,\"_21\":-7,\"_7\":108,\"_38\":109},\"(multi-page)/upgrading/index.mdx\",\"Guide to upgrading Apache HBase between major versions, including requirements, compatibility considerations, and step-by-step procedures.\",\"/docs/upgrading\",{\"_40\":106},[111,117,123,129],{\"_11\":112,\"_18\":34,\"_13\":113,\"_24\":114,\"_21\":-7,\"_7\":115,\"_38\":116},\"(multi-page)/upgrading/version-number.mdx\",\"HBase version number and compatibility\",\"Understanding HBase semantic versioning scheme and compatibility guarantees across major, minor, and patch versions.\",\"/docs/upgrading/version-number\",{\"_40\":112},{\"_11\":118,\"_18\":34,\"_13\":119,\"_24\":120,\"_21\":-7,\"_7\":121,\"_38\":122},\"(multi-page)/upgrading/rolling.mdx\",\"Rolling Upgrades\",\"How to perform rolling upgrades across HBase versions that are binary or wire compatible without cluster downtime.\",\"/docs/upgrading/rolling\",{\"_40\":118},{\"_11\":124,\"_18\":34,\"_13\":125,\"_24\":126,\"_21\":-7,\"_7\":127,\"_38\":128},\"(multi-page)/upgrading/rollback.mdx\",\"Rollback\",\"How to rollback an HBase upgrade to restore the cluster to a previous version, including backup procedures and data recovery steps.\",\"/docs/upgrading/rollback\",{\"_40\":124},{\"_11\":130,\"_18\":34,\"_13\":131,\"_24\":132,\"_21\":-7,\"_7\":133,\"_38\":134},\"(multi-page)/upgrading/paths.mdx\",\"Upgrade Paths\",\"Detailed upgrade paths and compatibility considerations when upgrading between HBase major versions (2.x to 3.x, 1.x to 2.x, etc.).\",\"/docs/upgrading/paths\",{\"_40\":130},\"(multi-page)/upgrading\",{\"_101\":137},\"(multi-page)/upgrading/meta.json\",{\"_11\":139,\"_18\":34,\"_13\":140,\"_24\":141,\"_21\":-7,\"_7\":142,\"_38\":143},\"(multi-page)/shell.mdx\",\"The Apache HBase Shell\",\"Guide to using the HBase Shell including scripting, tricks, and advanced features.\",\"/docs/shell\",{\"_40\":139},{\"_11\":145,\"_18\":30,\"_21\":-7,\"_13\":146},\"(multi-page)#7\",\"Core Concepts\",{\"_11\":148,\"_18\":34,\"_13\":149,\"_24\":150,\"_21\":-7,\"_7\":151,\"_38\":152},\"(multi-page)/datamodel.mdx\",\"Data Model\",\"In HBase, data is stored in tables, which have rows and columns. This is a terminology overlap with relational databases (RDBMSs), but this is not a helpful analogy. Instead, it can be helpful to think of an HBase table as a multi-dimensional map.\",\"/docs/datamodel\",{\"_40\":148},{\"_11\":154,\"_18\":34,\"_13\":155,\"_24\":156,\"_21\":-7,\"_7\":157,\"_38\":158},\"(multi-page)/schema-design.mdx\",\"HBase and Schema Design\",\"Comprehensive guide to designing HBase schemas, including table and column family design, rowkey strategies, and best practices for optimal performance.\",\"/docs/schema-design\",{\"_40\":154},{\"_11\":6,\"_18\":34,\"_13\":160,\"_24\":161,\"_21\":-7,\"_7\":8,\"_38\":162},\"RegionServer Sizing Rules of Thumb\",\"Memory sizing guidelines, rowkey design patterns, schema case studies, and performance optimization tips for HBase RegionServers.\",{\"_40\":6},{\"_11\":164,\"_18\":34,\"_13\":165,\"_24\":166,\"_21\":-7,\"_7\":167,\"_38\":168},\"(multi-page)/mapreduce.mdx\",\"HBase and MapReduce\",\"Guide to using Apache HBase with MapReduce including configuration, examples, and best practices.\",\"/docs/mapreduce\",{\"_40\":164},{\"_18\":19,\"_13\":170,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":171,\"_15\":176,\"_11\":219,\"_38\":220},\"Security\",{\"_11\":172,\"_18\":34,\"_13\":170,\"_24\":173,\"_21\":-7,\"_7\":174,\"_38\":175},\"(multi-page)/security/index.mdx\",\"Comprehensive guide to securing Apache HBase, including authentication, authorization, encryption, and access control mechanisms.\",\"/docs/security\",{\"_40\":172},[177,183,189,195,201,207,213],{\"_11\":178,\"_18\":34,\"_13\":179,\"_24\":180,\"_21\":-7,\"_7\":181,\"_38\":182},\"(multi-page)/security/web-ui.mdx\",\"Web UI Security\",\"HBase provides mechanisms to secure various components and aspects of HBase and how it relates to the rest of the Hadoop infrastructure, as well as clients and resources outside Hadoop.\",\"/docs/security/web-ui\",{\"_40\":178},{\"_11\":184,\"_18\":34,\"_13\":185,\"_24\":186,\"_21\":-7,\"_7\":187,\"_38\":188},\"(multi-page)/security/client-access.mdx\",\"Secure Client Access to Apache HBase\",\"Configuring Kerberos-based secure authentication for HBase clients, including server and client setup procedures.\",\"/docs/security/client-access\",{\"_40\":184},{\"_11\":190,\"_18\":34,\"_13\":191,\"_24\":192,\"_21\":-7,\"_7\":193,\"_38\":194},\"(multi-page)/security/user-access.mdx\",\"Simple User Access to Apache HBase\",\"Setting up simple SASL authentication for HBase clients without Kerberos, using username/password-based access control.\",\"/docs/security/user-access\",{\"_40\":190},{\"_11\":196,\"_18\":34,\"_13\":197,\"_24\":198,\"_21\":-7,\"_7\":199,\"_38\":200},\"(multi-page)/security/tls.mdx\",\"Transport Level Security (TLS) in HBase RPC communication\",\"Configuring TLS encryption for secure HBase client-server and Master-RegionServer communication without downtime.\",\"/docs/security/tls\",{\"_40\":196},{\"_11\":202,\"_18\":34,\"_13\":203,\"_24\":204,\"_21\":-7,\"_7\":205,\"_38\":206},\"(multi-page)/security/hdfs-and-zookeeper-access.mdx\",\"Securing Access to HDFS and ZooKeeper\",\"Secure HBase requires secure ZooKeeper and HDFS so that users cannot access and/or modify the metadata and data from under HBase. HBase uses HDFS (or configured file system) to keep its data files as well as write ahead logs (WALs) and other data. HBase uses ZooKeeper to store some metadata for operations (master address, table locks, recovery state, etc).\",\"/docs/security/hdfs-and-zookeeper-access\",{\"_40\":202},{\"_11\":208,\"_18\":34,\"_13\":209,\"_24\":210,\"_21\":-7,\"_7\":211,\"_38\":212},\"(multi-page)/security/data-access.mdx\",\"Securing Access To Your Data\",\"Role-based access control (RBAC), visibility labels, and data encryption strategies for securing HBase data at rest and in transit.\",\"/docs/security/data-access\",{\"_40\":208},{\"_11\":214,\"_18\":34,\"_13\":215,\"_24\":216,\"_21\":-7,\"_7\":217,\"_38\":218},\"(multi-page)/security/example.mdx\",\"Security Configuration Example\",\"This configuration example includes support for HFile v3, ACLs, Visibility Labels, and transparent encryption of data at rest and the WAL. All options have been discussed separately in the sections above.\",\"/docs/security/example\",{\"_40\":214},\"(multi-page)/security\",{\"_101\":221},\"(multi-page)/security/meta.json\",{\"_18\":19,\"_13\":223,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":224,\"_15\":229,\"_11\":302,\"_38\":303},\"Architecture\",{\"_11\":225,\"_18\":34,\"_13\":223,\"_24\":226,\"_21\":-7,\"_7\":227,\"_38\":228},\"(multi-page)/architecture/index.mdx\",\"Comprehensive guide to HBase architecture including client-server model, regions, WAL, compaction, and advanced features.\",\"/docs/architecture\",{\"_40\":225},[230,236,242,248,254,260,266,272,278,284,290,296],{\"_11\":231,\"_18\":34,\"_13\":232,\"_24\":233,\"_21\":-7,\"_7\":234,\"_38\":235},\"(multi-page)/architecture/overview.mdx\",\"Overview\",\"Introduction to HBase as a NoSQL distributed database, key features, scalability characteristics, and when to use HBase.\",\"/docs/architecture/overview\",{\"_40\":231},{\"_11\":237,\"_18\":34,\"_13\":238,\"_24\":239,\"_21\":-7,\"_7\":240,\"_38\":241},\"(multi-page)/architecture/catalog-tables.mdx\",\"Catalog Tables\",\"Understanding hbase:meta catalog table structure, location tracking, and how HBase maintains region metadata.\",\"/docs/architecture/catalog-tables\",{\"_40\":237},{\"_11\":243,\"_18\":34,\"_13\":244,\"_24\":245,\"_21\":-7,\"_7\":246,\"_38\":247},\"(multi-page)/architecture/client.mdx\",\"Client\",\"HBase client architecture, connection management, metadata caching, and client-side configuration for optimal performance.\",\"/docs/architecture/client\",{\"_40\":243},{\"_11\":249,\"_18\":34,\"_13\":250,\"_24\":251,\"_21\":-7,\"_7\":252,\"_38\":253},\"(multi-page)/architecture/client-request-filters.mdx\",\"Client Request Filters\",\"Using filters with Get and Scan operations to efficiently query HBase data, including comparison, column, row, and utility filters.\",\"/docs/architecture/client-request-filters\",{\"_40\":249},{\"_11\":255,\"_18\":34,\"_13\":256,\"_24\":257,\"_21\":-7,\"_7\":258,\"_38\":259},\"(multi-page)/architecture/master.mdx\",\"Master\",\"HBase Master server responsibilities including RegionServer monitoring, metadata operations, load balancing, and failover behavior.\",\"/docs/architecture/master\",{\"_40\":255},{\"_11\":261,\"_18\":34,\"_13\":262,\"_24\":263,\"_21\":-7,\"_7\":264,\"_38\":265},\"(multi-page)/architecture/regionserver.mdx\",\"RegionServer\",\"HBase RegionServer implementation, interfaces, read/write paths, block cache, memstore management, and performance tuning.\",\"/docs/architecture/regionserver\",{\"_40\":261},{\"_11\":267,\"_18\":34,\"_13\":268,\"_24\":269,\"_21\":-7,\"_7\":270,\"_38\":271},\"(multi-page)/architecture/regions.mdx\",\"Regions\",\"Understanding HBase regions, stores, memstore, write-ahead log (WAL), compaction, splits, and region management strategies.\",\"/docs/architecture/regions\",{\"_40\":267},{\"_11\":273,\"_18\":34,\"_13\":274,\"_24\":275,\"_21\":-7,\"_7\":276,\"_38\":277},\"(multi-page)/architecture/bulk-loading.mdx\",\"Bulk Loading\",\"Efficient methods for loading large datasets into HBase using MapReduce to generate HFiles and directly load them into the cluster.\",\"/docs/architecture/bulk-loading\",{\"_40\":273},{\"_11\":279,\"_18\":34,\"_13\":280,\"_24\":281,\"_21\":-7,\"_7\":282,\"_38\":283},\"(multi-page)/architecture/hdfs.mdx\",\"HDFS\",\"How HBase leverages HDFS for distributed storage, including NameNode and DataNode architecture and file replication.\",\"/docs/architecture/hdfs\",{\"_40\":279},{\"_11\":285,\"_18\":34,\"_13\":286,\"_24\":287,\"_21\":-7,\"_7\":288,\"_38\":289},\"(multi-page)/architecture/timeline-consistent-reads.mdx\",\"Timeline-consistent High Available Reads\",\"Using region replicas to achieve high availability for reads with timeline consistency, reducing read unavailability during failures.\",\"/docs/architecture/timeline-consistent-reads\",{\"_40\":285},{\"_11\":291,\"_18\":34,\"_13\":292,\"_24\":293,\"_21\":-7,\"_7\":294,\"_38\":295},\"(multi-page)/architecture/hbase-mob.mdx\",\"Storing Medium-sized Objects (MOB)\",\"Optimized storage and handling of medium-sized objects (100KB-10MB) in HBase using the MOB feature for improved performance.\",\"/docs/architecture/hbase-mob\",{\"_40\":291},{\"_11\":297,\"_18\":34,\"_13\":298,\"_24\":299,\"_21\":-7,\"_7\":300,\"_38\":301},\"(multi-page)/architecture/snapshot-scanner.mdx\",\"Scan Over Snapshot\",\"Using TableSnapshotScanner to scan HBase snapshots directly from HDFS, bypassing RegionServers for better performance.\",\"/docs/architecture/snapshot-scanner\",{\"_40\":297},\"(multi-page)/architecture\",{\"_101\":304},\"(multi-page)/architecture/meta.json\",{\"_11\":306,\"_18\":30,\"_21\":-7,\"_13\":307},\"(multi-page)#14\",\"Advanced Features\",{\"_11\":309,\"_18\":34,\"_13\":310,\"_24\":311,\"_21\":-7,\"_7\":312,\"_38\":313},\"(multi-page)/inmemory-compaction.mdx\",\"In-memory Compaction\",\"Accordion feature that applies LSM compaction to MemStore while data is in RAM, reducing write amplification and improving performance.\",\"/docs/inmemory-compaction\",{\"_40\":309},{\"_11\":315,\"_18\":34,\"_13\":316,\"_24\":317,\"_21\":-7,\"_7\":318,\"_38\":319},\"(multi-page)/offheap-read-write.mdx\",\"RegionServer Off-Heap Read/Write Path\",\"Using off-heap memory for HBase read and write paths to reduce GC pressure and improve P99/P999 RPC latencies.\",\"/docs/offheap-read-write\",{\"_40\":315},{\"_18\":19,\"_13\":321,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":322,\"_15\":327,\"_11\":351,\"_38\":352},\"Backup and Restore\",{\"_11\":323,\"_18\":34,\"_13\":321,\"_24\":324,\"_21\":-7,\"_7\":325,\"_38\":326},\"(multi-page)/backup-restore/index.mdx\",\"Comprehensive guide to HBase backup and restore capabilities for data protection, disaster recovery, and point-in-time recovery.\",\"/docs/backup-restore\",{\"_40\":323},[328,333,339,345],{\"_11\":329,\"_18\":34,\"_13\":232,\"_24\":330,\"_21\":-7,\"_7\":331,\"_38\":332},\"(multi-page)/backup-restore/overview.mdx\",\"Introduction to HBase backup and restore feature, including full and incremental backups for disaster recovery and point-in-time recovery.\",\"/docs/backup-restore/overview\",{\"_40\":329},{\"_11\":334,\"_18\":34,\"_13\":335,\"_24\":336,\"_21\":-7,\"_7\":337,\"_38\":338},\"(multi-page)/backup-restore/commands.mdx\",\"Backup and Restore commands\",\"Command-line utilities for creating, restoring, and merging HBase backups including full and incremental backup operations.\",\"/docs/backup-restore/commands\",{\"_40\":334},{\"_11\":340,\"_18\":34,\"_13\":341,\"_24\":342,\"_21\":-7,\"_7\":343,\"_38\":344},\"(multi-page)/backup-restore/administration.mdx\",\"Administration of Backup Images\",\"Managing HBase backup images including listing, describing, deleting, and merging backup sets for efficient storage.\",\"/docs/backup-restore/administration\",{\"_40\":340},{\"_11\":346,\"_18\":34,\"_13\":347,\"_24\":348,\"_21\":-7,\"_7\":349,\"_38\":350},\"(multi-page)/backup-restore/additional-topics.mdx\",\"Additional Topics\",\"Configuration keys, security considerations, and best practices for HBase backup and restore operations.\",\"/docs/backup-restore/additional-topics\",{\"_40\":346},\"(multi-page)/backup-restore\",{\"_101\":353},\"(multi-page)/backup-restore/meta.json\",{\"_11\":355,\"_18\":34,\"_13\":356,\"_24\":357,\"_21\":-7,\"_7\":358,\"_38\":359},\"(multi-page)/sync-replication.mdx\",\"Synchronous Replication\",\"Setting up synchronous replication between HBase clusters for strong consistency and automatic failover capabilities.\",\"/docs/sync-replication\",{\"_40\":355},{\"_11\":361,\"_18\":30,\"_21\":-7,\"_13\":362},\"(multi-page)#19\",\"APIs \u0026 Integration\",{\"_11\":364,\"_18\":34,\"_13\":365,\"_24\":366,\"_21\":-7,\"_7\":367,\"_38\":368},\"(multi-page)/hbase-apis.mdx\",\"Apache HBase APIs\",\"This chapter provides information about performing operations using HBase native APIs.\",\"/docs/hbase-apis\",{\"_40\":364},{\"_11\":370,\"_18\":34,\"_13\":371,\"_24\":372,\"_21\":-7,\"_7\":373,\"_38\":374},\"(multi-page)/external-apis.mdx\",\"Apache HBase External APIs\",\"This chapter will cover access to Apache HBase either through non-Java languages and through custom protocols.\",\"/docs/external-apis\",{\"_40\":370},{\"_11\":376,\"_18\":34,\"_13\":377,\"_24\":378,\"_21\":-7,\"_7\":379,\"_38\":380},\"(multi-page)/thrift-filter-language.mdx\",\"Thrift API and Filter Language\",\"Apache Thrift is a cross-platform, cross-language development framework. HBase includes a Thrift API and filter language. The Thrift API relies on client and server processes.\",\"/docs/thrift-filter-language\",{\"_40\":376},{\"_11\":382,\"_18\":34,\"_13\":383,\"_24\":384,\"_21\":-7,\"_7\":385,\"_38\":386},\"(multi-page)/spark.mdx\",\"HBase and Spark\",\"Apache Spark is a software framework that is used to process data in memory in a distributed manner, and is replacing MapReduce in many use cases.\",\"/docs/spark\",{\"_40\":382},{\"_11\":388,\"_18\":34,\"_13\":389,\"_24\":390,\"_21\":-7,\"_7\":391,\"_38\":392},\"(multi-page)/cp.mdx\",\"Apache HBase Coprocessors\",\"The coprocessor framework provides mechanisms for running your custom code directly on the RegionServers managing your data.\",\"/docs/cp\",{\"_40\":388},{\"_11\":394,\"_18\":30,\"_21\":-7,\"_13\":395},\"(multi-page)#25\",\"Performance \u0026 Troubleshooting\",{\"_11\":397,\"_18\":34,\"_13\":398,\"_24\":399,\"_21\":-7,\"_7\":400,\"_38\":401},\"(multi-page)/performance.mdx\",\"Apache HBase Performance Tuning\",\"Comprehensive performance tuning guide covering OS configuration, network optimization, JVM tuning, schema design, read/write patterns, and HDFS optimization for HBase clusters.\",\"/docs/performance\",{\"_40\":397},{\"_11\":403,\"_18\":34,\"_13\":404,\"_24\":405,\"_21\":-7,\"_7\":406,\"_38\":407},\"(multi-page)/profiler.mdx\",\"Profiler Servlet\",\"Integrated, on-demand profiling via the Async Profiler project.\",\"/docs/profiler\",{\"_40\":403},{\"_11\":409,\"_18\":34,\"_13\":410,\"_24\":411,\"_21\":-7,\"_7\":412,\"_38\":413},\"(multi-page)/troubleshooting.mdx\",\"Troubleshooting and Debugging Apache HBase\",\"Comprehensive guide to troubleshooting and debugging HBase issues including logs, tools, common problems, and solutions.\",\"/docs/troubleshooting\",{\"_40\":409},{\"_11\":415,\"_18\":34,\"_13\":416,\"_24\":417,\"_21\":-7,\"_7\":418,\"_38\":419},\"(multi-page)/case-studies.mdx\",\"Apache HBase Case Studies\",\"Performance and troubleshooting case studies for diagnosing Apache HBase cluster issues.\",\"/docs/case-studies\",{\"_40\":415},{\"_11\":421,\"_18\":30,\"_21\":-7,\"_13\":422},\"(multi-page)#30\",\"Operations \u0026 Development\",{\"_18\":19,\"_13\":424,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":425,\"_15\":430,\"_11\":479,\"_38\":480},\"Apache HBase Operational Management\",{\"_11\":426,\"_18\":34,\"_13\":424,\"_24\":427,\"_21\":-7,\"_7\":428,\"_38\":429},\"(multi-page)/operational-management/index.mdx\",\"This chapter will cover operational tools and practices required of a running Apache HBase cluster.\",\"/docs/operational-management\",{\"_40\":426},[431,437,443,449,455,461,467,473],{\"_11\":432,\"_18\":34,\"_13\":433,\"_24\":434,\"_21\":-7,\"_7\":435,\"_38\":436},\"(multi-page)/operational-management/tools.mdx\",\"HBase Tools and Utilities\",\"Command-line tools for HBase administration, analysis, and debugging including canary, HBCK2, WAL tools, and MapReduce utilities.\",\"/docs/operational-management/tools\",{\"_40\":432},{\"_11\":438,\"_18\":34,\"_13\":439,\"_24\":440,\"_21\":-7,\"_7\":441,\"_38\":442},\"(multi-page)/operational-management/node.mdx\",\"Node Management\",\"Managing HBase cluster nodes including decommissioning RegionServers, rolling restarts, and draining regions for maintenance.\",\"/docs/operational-management/node\",{\"_40\":438},{\"_11\":444,\"_18\":34,\"_13\":445,\"_24\":446,\"_21\":-7,\"_7\":447,\"_38\":448},\"(multi-page)/operational-management/metrics-and-monitoring.mdx\",\"Metrics \u0026 Monitoring\",\"HBase metrics system configuration, JMX monitoring, master and RegionServer metrics, and integration with monitoring tools.\",\"/docs/operational-management/metrics-and-monitoring\",{\"_40\":444},{\"_11\":450,\"_18\":34,\"_13\":451,\"_24\":452,\"_21\":-7,\"_7\":453,\"_38\":454},\"(multi-page)/operational-management/cluster-replication.mdx\",\"Cluster Replication\",\"Setting up and managing HBase cluster replication for disaster recovery, data aggregation, and geographic distribution of data.\",\"/docs/operational-management/cluster-replication\",{\"_40\":450},{\"_11\":456,\"_18\":34,\"_13\":457,\"_24\":458,\"_21\":-7,\"_7\":459,\"_38\":460},\"(multi-page)/operational-management/running-multiple-workloads-on-a-single-cluster.mdx\",\"Running Multiple Workloads On a Single Cluster\",\"Managing multiple workloads on HBase clusters using quotas, request queues, and priority mechanisms for resource allocation.\",\"/docs/operational-management/running-multiple-workloads-on-a-single-cluster\",{\"_40\":456},{\"_11\":462,\"_18\":34,\"_13\":463,\"_24\":464,\"_21\":-7,\"_7\":465,\"_38\":466},\"(multi-page)/operational-management/backup-and-snapshots.mdx\",\"Backup \u0026 Snapshots\",\"HBase backup strategies and snapshot operations for data protection, including full cluster backups and live cluster snapshots.\",\"/docs/operational-management/backup-and-snapshots\",{\"_40\":462},{\"_11\":468,\"_18\":34,\"_13\":469,\"_24\":470,\"_21\":-7,\"_7\":471,\"_38\":472},\"(multi-page)/operational-management/table-rename.mdx\",\"Table Rename\",\"How to rename HBase tables using snapshots without downtime or data loss.\",\"/docs/operational-management/table-rename\",{\"_40\":468},{\"_11\":474,\"_18\":34,\"_13\":475,\"_24\":476,\"_21\":-7,\"_7\":477,\"_38\":478},\"(multi-page)/operational-management/region-and-capacity.mdx\",\"Region \u0026 Capacity Management\",\"Managing HBase regions including compaction, splits, merges, capacity planning, RegionServer grouping, and region normalization.\",\"/docs/operational-management/region-and-capacity\",{\"_40\":474},\"(multi-page)/operational-management\",{\"_101\":481},\"(multi-page)/operational-management/meta.json\",{\"_18\":19,\"_13\":483,\"_21\":-7,\"_12\":-7,\"_23\":-7,\"_24\":-7,\"_26\":484,\"_15\":489,\"_11\":556,\"_38\":557},\"Building and Developing Apache HBase\",{\"_11\":485,\"_18\":34,\"_13\":483,\"_24\":486,\"_21\":-7,\"_7\":487,\"_38\":488},\"(multi-page)/building-and-developing/index.mdx\",\"Comprehensive guide for building, testing, releasing, and contributing to Apache HBase.\",\"/docs/building-and-developing\",{\"_40\":485},[490,496,502,508,514,520,526,532,538,544,550],{\"_11\":491,\"_18\":34,\"_13\":492,\"_24\":493,\"_21\":-7,\"_7\":494,\"_38\":495},\"(multi-page)/building-and-developing/getting-involved.mdx\",\"Getting Involved\",\"How to contribute to Apache HBase including mailing lists, Slack, IRC, JIRA, and guidelines for reporting effective issues.\",\"/docs/building-and-developing/getting-involved\",{\"_40\":491},{\"_11\":497,\"_18\":34,\"_13\":498,\"_24\":499,\"_21\":-7,\"_7\":500,\"_38\":501},\"(multi-page)/building-and-developing/repositories.mdx\",\"Apache HBase Repositories\",\"List of Apache HBase Git repositories including main HBase, connectors, operator tools, website, and third-party libraries.\",\"/docs/building-and-developing/repositories\",{\"_40\":497},{\"_11\":503,\"_18\":34,\"_13\":504,\"_24\":505,\"_21\":-7,\"_7\":506,\"_38\":507},\"(multi-page)/building-and-developing/ides.mdx\",\"IDEs\",\"Setting up Eclipse and IntelliJ IDEA for HBase development including formatters, plugins, and Maven integration.\",\"/docs/building-and-developing/ides\",{\"_40\":503},{\"_11\":509,\"_18\":34,\"_13\":510,\"_24\":511,\"_21\":-7,\"_7\":512,\"_38\":513},\"(multi-page)/building-and-developing/building.mdx\",\"Building Apache HBase\",\"Maven build commands, JDK requirements, Hadoop version selection, and building HBase from source including protobuf and thrift generation.\",\"/docs/building-and-developing/building\",{\"_40\":509},{\"_11\":515,\"_18\":34,\"_13\":516,\"_24\":517,\"_21\":-7,\"_7\":518,\"_38\":519},\"(multi-page)/building-and-developing/releasing.mdx\",\"Releasing Apache HBase\",\"Complete guide to creating HBase release candidates including building, signing, staging artifacts, and publishing releases.\",\"/docs/building-and-developing/releasing\",{\"_40\":515},{\"_11\":521,\"_18\":34,\"_13\":522,\"_24\":523,\"_21\":-7,\"_7\":524,\"_38\":525},\"(multi-page)/building-and-developing/voting.mdx\",\"Voting on Release Candidates\",\"Baseline and additional verification procedures for voting on HBase release candidates including checksums, signatures, and testing.\",\"/docs/building-and-developing/voting\",{\"_40\":521},{\"_11\":527,\"_18\":34,\"_13\":528,\"_24\":529,\"_21\":-7,\"_7\":530,\"_38\":531},\"(multi-page)/building-and-developing/announcing.mdx\",\"Announcing Releases\",\"Email template and guidelines for announcing new HBase releases to the community and mailing lists.\",\"/docs/building-and-developing/announcing\",{\"_40\":527},{\"_11\":533,\"_18\":34,\"_13\":534,\"_24\":535,\"_21\":-7,\"_7\":536,\"_38\":537},\"(multi-page)/building-and-developing/generating-documentation.mdx\",\"Generating the HBase Reference Guide\",\"Building HBase documentation from MDX markup.\",\"/docs/building-and-developing/generating-documentation\",{\"_40\":533},{\"_11\":539,\"_18\":34,\"_13\":540,\"_24\":541,\"_21\":-7,\"_7\":542,\"_38\":543},\"(multi-page)/building-and-developing/updating-landing.mdx\",\"Updating hbase.apache.org\",\"Contributing to and publishing the HBase website and documentation using gitpubsub mechanism.\",\"/docs/building-and-developing/updating-landing\",{\"_40\":539},{\"_11\":545,\"_18\":34,\"_13\":546,\"_24\":547,\"_21\":-7,\"_7\":548,\"_38\":549},\"(multi-page)/building-and-developing/tests.mdx\",\"Tests\",\"Writing and running HBase unit tests, integration tests, and ChaosMonkey destructive tests for comprehensive test coverage.\",\"/docs/building-and-developing/tests\",{\"_40\":545},{\"_11\":551,\"_18\":34,\"_13\":552,\"_24\":553,\"_21\":-7,\"_7\":554,\"_38\":555},\"(multi-page)/building-and-developing/developer-guidelines.mdx\",\"Developer Guidelines\",\"Code standards, interface classifications, formatting conventions, Git best practices, and patch submission guidelines for HBase contributors.\",\"/docs/building-and-developing/developer-guidelines\",{\"_40\":551},\"(multi-page)/building-and-developing\",{\"_101\":558},\"(multi-page)/building-and-developing/meta.json\",{\"_11\":560,\"_18\":34,\"_13\":561,\"_24\":562,\"_21\":-7,\"_7\":563,\"_38\":564},\"(multi-page)/unit-testing.mdx\",\"Unit Testing HBase Applications\",\"This chapter discusses unit testing your HBase application using JUnit, Mockito, MRUnit, and HBaseTestingUtility.\",\"/docs/unit-testing\",{\"_40\":560},{\"_11\":566,\"_18\":30,\"_21\":-7,\"_13\":567},\"(multi-page)#34\",\"Internals\",{\"_11\":569,\"_18\":34,\"_13\":570,\"_24\":571,\"_21\":-7,\"_7\":572,\"_38\":573},\"(multi-page)/protobuf.mdx\",\"Protobuf in HBase\",\"Detailed guide on how HBase uses Protocol Buffers for serialization, RPC interfaces, and coprocessor endpoints, including shading and versioning considerations.\",\"/docs/protobuf\",{\"_40\":569},{\"_11\":575,\"_18\":34,\"_13\":576,\"_24\":577,\"_21\":-7,\"_7\":578,\"_38\":579},\"(multi-page)/pv2.mdx\",\"Procedure Framework (PV2)\",\"Procedure v2 ...aims to provide a unified way to build...multi-step procedures with a rollback/roll-forward ability in case of failure (e.g. create/delete table) — Matteo Bertozzi, the author of Pv2.\",\"/docs/pv2\",{\"_40\":575},{\"_11\":581,\"_18\":34,\"_13\":582,\"_24\":583,\"_21\":-7,\"_7\":584,\"_38\":585},\"(multi-page)/amv2.mdx\",\"AMv2 Description for Devs\",\"The AssignmentManager (AM) in HBase Master manages assignment of Regions over a cluster of RegionServers.\",\"/docs/amv2\",{\"_40\":581},{\"_11\":587,\"_18\":30,\"_21\":-7,\"_13\":588},\"(multi-page)#38\",\"Infrastructure \u0026 Tools\",{\"_11\":590,\"_18\":34,\"_13\":591,\"_24\":592,\"_21\":-7,\"_7\":593,\"_38\":594},\"(multi-page)/zookeeper.mdx\",\"ZooKeeper\",\"A distributed Apache HBase installation depends on a running ZooKeeper cluster. All participating nodes and clients need to be able to access the running ZooKeeper ensemble.\",\"/docs/zookeeper\",{\"_40\":590},{\"_11\":596,\"_18\":34,\"_13\":597,\"_24\":598,\"_21\":-7,\"_7\":599,\"_38\":600},\"(multi-page)/community.mdx\",\"Community\",\"HBase community decisions, release managers, JIRA policies, commit message format, and guidelines for feature branches.\",\"/docs/community\",{\"_40\":596},{\"_11\":602,\"_18\":34,\"_13\":603,\"_24\":604,\"_21\":-7,\"_7\":605,\"_38\":606},\"(multi-page)/hbtop.mdx\",\"hbtop\",\"hbtop is a real-time monitoring tool for HBase like Unix's top command. It can display summary information as well as metrics per Region/Namespace/Table/RegionServer. In this tool, you can see the metrics sorted by a selected field and filter the metrics to see only metrics you really want to see.\",\"/docs/hbtop\",{\"_40\":602},{\"_11\":608,\"_18\":34,\"_13\":609,\"_24\":610,\"_21\":-7,\"_7\":611,\"_38\":612},\"(multi-page)/tracing.mdx\",\"Tracing\",\"HBase used to depend on the HTrace project for tracing. After the Apache HTrace project moved to the Attic/retired, we decided to move to OpenTelemetry in HBASE-22120.\",\"/docs/tracing\",{\"_40\":608},{\"_11\":614,\"_18\":34,\"_13\":615,\"_24\":616,\"_21\":-7,\"_7\":617,\"_38\":618},\"(multi-page)/store-file-tracking.mdx\",\"Store File Tracking\",\"This feature introduces an abstraction layer to track store files still used/needed by store engines, allowing for plugging different approaches of identifying store files required by the given store.\",\"/docs/store-file-tracking\",{\"_40\":614},{\"_11\":620,\"_18\":34,\"_13\":621,\"_24\":622,\"_21\":-7,\"_7\":623,\"_38\":624},\"(multi-page)/bulk-data-generator-tool.mdx\",\"Bulk Data Generator Tool\",\"This is a random data generator tool for HBase tables leveraging Hbase bulk load. It can create pre-splited HBase table and the generated data is uniformly distributed to all the regions of the table.\",\"/docs/bulk-data-generator-tool\",{\"_40\":620},{\"_11\":626,\"_18\":30,\"_21\":-7,\"_13\":627},\"(multi-page)#45\",\"Appendices\",{\"_11\":629,\"_18\":34,\"_13\":630,\"_24\":631,\"_21\":-7,\"_7\":632,\"_38\":633},\"(multi-page)/contributing-to-documentation.mdx\",\"Appendix: Contributing to Documentation\",\"Guide for contributing to Apache HBase documentation, including patch submission procedures, website editing, style guidelines, and best practices.\",\"/docs/contributing-to-documentation\",{\"_40\":629},{\"_11\":635,\"_18\":34,\"_13\":636,\"_24\":637,\"_21\":-7,\"_7\":638,\"_38\":639},\"(multi-page)/faq.mdx\",\"FAQ\",\"Frequently asked questions about Apache HBase.\",\"/docs/faq\",{\"_40\":635},{\"_11\":641,\"_18\":34,\"_13\":642,\"_24\":643,\"_21\":-7,\"_7\":644,\"_38\":645},\"(multi-page)/acl-matrix.mdx\",\"Access Control Matrix\",\"The following matrix shows the permission set required to perform operations in HBase. Before using the table, read through the information about how to interpret it.\",\"/docs/acl-matrix\",{\"_40\":641},{\"_11\":647,\"_18\":34,\"_13\":648,\"_24\":649,\"_21\":-7,\"_7\":650,\"_38\":651},\"(multi-page)/compression.mdx\",\"Compression and Data Block Encoding In HBase\",\"Comprehensive guide to compression algorithms and data block encoding options in HBase for optimizing storage and performance.\",\"/docs/compression\",{\"_40\":647},{\"_11\":653,\"_18\":34,\"_13\":654,\"_24\":655,\"_21\":-7,\"_7\":656,\"_38\":657},\"(multi-page)/sql.mdx\",\"SQL over HBase\",\"The following projects offer some support for SQL over HBase.\",\"/docs/sql\",{\"_40\":653},{\"_11\":659,\"_18\":34,\"_13\":660,\"_24\":661,\"_21\":-7,\"_7\":662,\"_38\":663},\"(multi-page)/ycsb.mdx\",\"YCSB\",\"Documentation for YCSB (The Yahoo! Cloud Serving Benchmark)\",\"/docs/ycsb\",{\"_40\":659},{\"_11\":665,\"_18\":34,\"_13\":666,\"_24\":667,\"_21\":-7,\"_7\":668,\"_38\":669},\"(multi-page)/hfile-format.mdx\",\"HFile Format\",\"This appendix describes the evolution of the HFile format.\",\"/docs/hfile-format\",{\"_40\":665},{\"_11\":671,\"_18\":34,\"_13\":672,\"_24\":673,\"_21\":-7,\"_7\":674,\"_38\":675},\"(multi-page)/other-info.mdx\",\"Other Information About HBase\",\"Collection of HBase videos, presentations, papers, books, and useful external resources for learning and understanding HBase.\",\"/docs/other-info\",{\"_40\":671},{\"_11\":677,\"_18\":34,\"_13\":678,\"_24\":679,\"_21\":-7,\"_7\":680,\"_38\":681},\"(multi-page)/hbase-history.mdx\",\"HBase History\",\"Timeline of Apache HBase development from its origins in Google's BigTable paper to becoming an Apache top-level project.\",\"/docs/hbase-history\",{\"_40\":677},{\"_11\":683,\"_18\":34,\"_13\":684,\"_24\":685,\"_21\":-7,\"_7\":686,\"_38\":687},\"(multi-page)/asf.mdx\",\"HBase and the Apache Software Foundation\",\"HBase is a project in the Apache Software Foundation and as such there are responsibilities to the ASF to ensure a healthy project.\",\"/docs/asf\",{\"_40\":683},{\"_11\":689,\"_18\":34,\"_13\":690,\"_24\":691,\"_21\":-7,\"_7\":692,\"_38\":693},\"(multi-page)/orca.mdx\",\"Apache HBase Orca\",\"Apache HBase Orca, HBase Colors, \u0026 Font\",\"/docs/orca\",{\"_40\":689},{\"_11\":695,\"_18\":34,\"_13\":696,\"_24\":697,\"_21\":-7,\"_7\":698,\"_38\":699},\"(multi-page)/rpc.mdx\",\"0.95 RPC Specification\",\"HBase RPC wire format and client/server protocol specification for version 0.95+.\",\"/docs/rpc\",{\"_40\":695},{\"_11\":701,\"_18\":34,\"_13\":702,\"_24\":703,\"_21\":-7,\"_7\":704,\"_38\":705},\"(multi-page)/hbase-incompatibilities.mdx\",\"Known Incompatibilities Among HBase Versions\",\"Comprehensive list of breaking changes and incompatibilities between HBase versions, particularly for HBase 2.0.\",\"/docs/hbase-incompatibilities\",{\"_40\":701},\"(multi-page)\",{\"_101\":708},\"(multi-page)/meta.json\",{\"_18\":19,\"_13\":710,\"_21\":-7,\"_12\":22,\"_23\":-7,\"_24\":711,\"_26\":-7,\"_15\":712,\"_11\":719,\"_38\":720},\"Single-Page Documentation\",\"Entire docs on one page\",[713],{\"_11\":714,\"_18\":34,\"_13\":715,\"_24\":716,\"_21\":-7,\"_7\":717,\"_38\":718},\"single-page/index.mdx\",\"Apache HBase Documentation\",\"Complete Apache HBase documentation in one continuous page.\",\"/docs/single-page\",{\"_40\":714},\"single-page\",{\"_101\":721},\"single-page/meta.json\",\"actionData\",\"errors\"]\n");</script><!--$--><script>window.__reactRouterContext.streamController.close();</script><!--/$--><!--/$--></body></html>